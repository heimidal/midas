eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([4-7fhj-lpqtvzB-HJ-TV-Z]|[1-7]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('NodeList.2T.equals=6(2a){f T=4.T;7(T!=2a.T)k L;f 2o,2G,i;T=T-1;Z(i=0;i<=T;++i){2o=4[i];2G=2a.52(i);7(2o.2p!=2G.2p||2o.2b!=2G.2b)k L}Z(i=0;i<=T;++i){2o=4.52(i);2G=2a.52(i);7(2o.2p==3){7(2o.6k!=2G.6k)k L}V 7(2o.15&&2G.15){7(2o.15!=2G.15)k L}}k N};Number.2T.3E=6(){f 4g=4.toString(16).4h();k 4g[1]?4g:"0"+4g};53.2T.3E=6(){k 4.21(/rgb\\((\\d+)[\\s|\\,]?\\s(\\d+)[\\s|\\,]?\\s(\\d+)\\)/gi,6(a,b,c,d){k"#"+2q(b).3E()+2q(c).3E()+2q(d).3E()})};W.54=6(){k(4==Q)};6l.2T.55=6(5,22){5=5||4;22=22||[];E.cleanWhitespace(5);Z(f i=0;i<=5.2c.T-1;++i){7(5.2c[i].2p==3){22.1B(5.2c[i])}V{4.55(5.2c[i],22)}}k 22};6l.2T.56=6(57,5){5=5||4;f i;Z(i=0;i<=5.2c.T-1;++i){7(5.2c[i].2p==3)6m;7(57.1i(5.2c[i].2d.4i())>-1){k N}}Z(i=0;i<=5.2c.T-1;++i){7(5.2c[i].2p==3)6m;7(4.56(57,5.2c[i])){k N}}k L};53.2T.6n=6(2a){f 58=\'\';f 6o=2a.T;Z(f i=0;i<6o;++i){7(4[i]!=2a[i]){f 4j=4.6p(i).4j().21(/^\\s+|^(&2U;)+/g,\'\');f re=G 6r(4j+\'$\',\'m\');58=2a.6p(i).21(re,\'\');1j}}k 58};53.2T.4j=6(){7(!1C.59.5a){f 6s=[\'/\',\'.\',\'*\',\'+\',\'?\',\'|\',\'(\',\')\',\'[\',\']\',\'{\',\'}\',\'\\\\\'];1C.59.5a=G 6r(\'(\\\\\'+6s.join(\'|\\\\\')+\')\',\'g\')}k 4.21(1C.59.5a,\'\\\\$1\')};f j=2H.2I({1D:0.2,h:{5b:\'editable\',6t:W.2V.3F,6u:\'put\',X:H,3G:L},39:{},M:W,6v:[\'6w\'],3H:6(h,3I,3J,3K){h=h||{};7(!j.5c())1l(\'j 3a a 6x 2a 6y 3L 6z\');7(h[\'3G\']&&!W.54()){j.4k(\'j will only instantiate in "Q", when using an 11\');k}j.6A(4);4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.2W;4.2e=4.h[\'X\'];4.3I=3I||{};4.3K=3K||{};4.3J=3J||{};4.6B()},6B:6(){4.1m=[];7(4.h[\'3G\']){f 4l=(4.h[\'3G\']===N)?W.2V.3F+\'?midas_regions=N\':4.h[\'3G\'];4.11=G E(\'11\',{seamless:\'N\',frameborder:\'0\',id:\'t-11-W\',4l:\'about:blank\'});v.D(4.11,\'1S\',6(){4.5d(4.11.M);4.5e();4.6C();j.5f(4.11.M.B.1F);4.11.M.5g=j.4m}.l(4));4.11.4l=4l;4.3M=G E(\'12\',{\'1s\':\'t-11-1T\'});4.3M.19(4.11);B.1F.J(\'3N:3c\');B.1F.19(4.3M)}V{4.5d(4.M);4.5e();j.5f(B.1F);W.5g=j.4m}},5d:6(M){4.M=M;P.1r(4.3J,{M:4.M,X:4.h[\'X\']});f 1F=4.M.B.1F;7(3O(1F.1n)==\'6\'){4.4n=1F.1n(\'.\'+4.h[\'5b\'])}V{4.4n=1F.getElementsByClassName(4.h[\'5b\'])}4.1m=[];Z(f i=0;i<4.4n.T;++i){4.1m.1B(G j.4o(4.4n[i],4.3J,\'t\'+4._id+\'_region_\'+i))}},5e:6(){7(4.1m[0])4.3d(4.1m[0]);P.1r(4.3I,{M:4.M,X:4.h[\'X\']});P.1r(4.3K,{M:4.M,X:4.h[\'X\']});7(!4.q&&!4.1t){4.q=G j.3P(4.3I);4.1t=G j.5h(4.3K);4.1U()}V{7(4.q)4.q.6D()}4.1V()},1U:6(){4.3e=6(e){f 5=v.5(e);7(5!=B){7(4.q&&(5.2f(4.q.5)||5==4.q.5))k;7(4.1t&&(5.2f(4.1t.5)||5==4.1t.5))k;Z(f i=0;i<4.1m.T;++i){7(5==4.1m[i].5||5.2f(4.1m[i].5))k}}4.3d(H);7(4.q)4.q.6E()}.l(4);4.5i=6(e){f a=e.2r;4.3f(a[\'z\'],a[\'K\'],a[\'q\'],a[\'h\'])}.l(4);4.5j=6(e){f a=e.2r;4.3f(a[\'z\'],e,H,a[\'h\'])}.l(4);4.5k=6(e){f a=e.2r;7(4.q!=a[\'q\'])k;4.5l(a[\'2g\'],a[\'q\'])}.l(4);4.5m=6(e){f a=e.2r;7(4.1m.1i(a[\'C\'])<0)k;7(a[\'3g\'])4.3g=N;4.3d(a[\'C\'])}.l(4);4.5n=6(e){f a=e.2r;j.1k(\'C\',e.2r);7(4.1m.1i(a[\'C\'])<0)k;7(4.1t)4.1t.1d(4.1u,a[\'K\']);7(4.q)4.q.5o(4.1m,4.1u)}.l(4);v.D(W,\'1V\',4.1V.l(4));f 1W=[B];7(4.11)1W.1B(4.11.M.B);1W.17(6(1e){v.D(1e,\'2s\',4.3e)}.l(4));v.D(B,\'t:F\',4.5i);v.D(B,\'t:z\',4.5j);v.D(B,\'t:2g\',4.5k);v.D(B,\'t:C\',4.5m);v.D(B,\'t:C:1d\',4.5n)},3Q:6(){v.2t(W,\'1V\',4.1V.l(4));f 1W=[B];7(4.11)1W.1B(4.11.M.B);1W.17(6(1e){v.2t(1e,\'2s\',4.3e)}.l(4));v.2t(B,\'t:F\',4.5i);v.2t(B,\'t:z\',4.5j);v.2t(B,\'t:2g\',4.5k);v.2t(B,\'t:C\',4.5m);v.2t(B,\'t:C:1d\',4.5n)},3d:6(C){4.1u=C;7(4.q)4.q.3d(C)},3f:6(z,K,q,h){h=h||{};7(q&&4.q!=q)k;7(4.6v.1i(z)>-1){7(P.2X(4[z])){f 2Y=4[z].3R(4,1C);7(2Y)k 2Y}}7(!4.1u)k;4.3g=N;4.1u.3f(z,K,q,h);7(4.1t)4.1t.1d(4.1u,K);7(4.q)4.q.5o(4.1m,4.1u)},5l:6(2g,q,6F){4.39[2g]=4.39[2g]?L:N;4p(2g){1G\'4q\':W.2u().4r();7(4.11)4.11.M.2u().4r();q.6G(\'htmleditorbar\',\'undoredo\',\'3S\',\'inspector\');7(6F){q.2K[\'4q\'].5.1X(\'4s\');1j}4.1m.17(6(C){C.6H()});1j}},6C:6(){Z(f i in 4.39){3T.4t(i,4.39[i]);7(4.39[i]){4.5l(i,4.q,N)}}},4u:6(){f 5p={};4.1m.17(6(C){f 1H=C.4u();5p[1H.O]=1H.2L});k 5p},6w:6(){f 1v=4.h.6u;f 3h={};7(1v.4h()!=\'POST\'&&1v.4h()!=\'GET\'){3h[\'_method\']=1v}G 4v.4w(4.h.6t,{1v:1v,3h:P.1r(3h,4.4u()),4x:6(){4.3g=L}.l(4)});k N},1V:6(){f 3U=B.3i.3j();7(4.11){f 4y=(4.q)?4.q.5q():0;f 5r=(4.1t)?4.1t.2Z():0;4.3M.J({S:(3U.S-5r-4y-10)+\'px\',Y:3U.Y+\'px\',Q:4y+\'px\',1a:0});4.11.J({S:(3U.S-5r-4y-10)+\'px\',Y:3U.Y+\'px\'})}},1w:6(){4.3Q();7(4.q)4.q.1w();7(4.1t)4.1t.1w();4.1m.17(6(C){C.1w()});7(4.11){B.1F.J(\'3N:1I\');4.3M.2v();4.11=H}4.q=H;4.1t=H;4.1m=[];j.6I(4)}});P.1r(j,{1D:0.2,3k:[],4z:H,4t:L,6J:L,6A:6(4A){4.3k.1B(4A)},6I:6(4A){4.3k=4.3k.4B(4A)},4m:6(){f 5s=L,6K="You have unsaved changes.  Are 6L sure 6L want to leave 4B saving them first?";Z(f i=0;i<j.3k.T;++i){7(j.3k[i].3g){5s=N;1j}}7(!j.6J&&5s)k 6K},1J:6(){7(4.4z)k 4.4z;f 1J=navigator.userAgent.4i();f O=H;7((1J.1i("5t")!=-1)&&(1J.1i("5u")==-1)&&(1J.1i("webtv")==-1)){O=\'5t\'}V 7(1J.1i("5u")!=-1){O=\'5u\'}V 7(1J.1i("6M")!=-1){O=\'6M\'}V 7(1J.1i("6N")!=-1){O=\'6N\'}V 7(1J.1i("5v")!=-1){O=\'5v\'}4.4z=O;k O},5c:6(){f 1J=j.1J();k(1J&&B.getElementById&&B.designMode&&1J!=\'5v\'&&1J!=\'5t\')?N:L},5f:6(5){f 31=E.1n(5,\'a\');Z(f i=0;i<31.T;++i){f 32=31[i].5w(\'3F\');f 2h=32.6O(/^[6P:|6Q:]/)?32.4C(\'://\')[1].4C(\'/\')[0]:L;7(2h&&2h!=W.2V.2h&&2h!=W.2V.6R&&((31[i].4D==\'\'||31[i].4D==\'_self\'))&&!31[i].up(\'.t-C\')){31[i].writeAttribute(\'4D\',\'_top\')}}},1k:6(K,2r){K=\'t:\'+K;j.4k(\'j.1k\',K,2r);v.1k(B,K,2r)},4k:6(){f 3V=[];Z(f i=0;i<1C.T;++i)3V.1B(1C[i]);7(j.4t&&3O(3T)!=\'6S\'){3W{3T.4t(3V)}3X(e1){3W{3T.info(3V)}3X(e2){3W{3T.log(3V)}3X(e3){}}}}}});7(!j)f j={};j.4o=2H.2I({1D:0.2,O:H,h:{X:H,M:W,6T:L},2w:L,3H:6(5,h,O){7(!j.1D)1l(\'j.4o 3a j\');7(!j.5c())1l(\'j.4o 3a a 6x 2a 6y 3L 6z\');4.5=$(5);7(!4.5)1l(\'Unable to locate 3m 5 "\'+5+\'"\');4.3Y=4.5.6U;4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.2W;4.2e=4.h[\'X\'];4.O=4.5.5w(\'id\')||O;4.1e=4.h[\'M\'].B;4.33=[];4.5x();4.1U()},5x:6(){4.5.1x(\'t-C\');7(4.5.15.21(/^\\s+|\\s+$/g,"")==\'\'&&5y.5z.5A){4.3Z(\'&2U;\')}7(4.h[\'6T\']){4.5.J({S:\'1I\',6V:\'6W\',6X:\'6W\'})}V{4.5.J({3N:\'1I\'});f Y=4.5.2i();7(Y)4.5.J({6Y:Y+\'px\'})}4.5.3L=N;4.1e.1L(\'6Z\',L,L)},1U:6(){v.D(B,\'2s\',6(){7(!4.5B)k;4.5B=L;4.5C()}.l(4));v.D(4.5,\'focus\',6(e){7(4.2w)k;j.1k(\'C\',{C:4,O:4.O,K:e});7(4.4E()==\'&2U;\'&&5y.5z.5A)4.3Z(\'&2U;\')}.l(4));v.D(4.5,\'paste\',6(e){7(j.1b.3n)e.1P();f 23=4.5.15;5D(6(){4.5E(23)}.l(4),1)}.l(4));v.D(4.5,\'drop\',6(e){f 23=4.5.15;5D(6(){4.5E(23)}.l(4),1)}.l(4));v.D(4.5,\'2M\',6(){4.5B=N}.l(4));v.D(4.5,\'2s\',6(e){7(4.2w)k;j.1k(\'C:1d\',{C:4,O:4.O,K:e})}.l(4));v.D(4.5,\'24\',6(e){7(4.2w){f 5=e.4D;7(5.2d==\'A\'){f 32=5.5w(\'3F\');f 2h=32.6O(/^[6P:|6Q:]/)?32.4C(\'://\')[1].4C(\'/\')[0]:L;7(2h&&2h!=Q.2V.2h&&2h!=Q.2V.6R){4.h[\'M\'].5g=j.4m;Q.2V.3F=32;e.1P()}}}V{j.1k(\'C\',{C:4,O:4.O,K:e});7(4.4E()==\'&2U;\'&&5y.5z.5A)4.3Z(\'&2U;\')}}.l(4));v.D(4.5,\'4F\',6(e){7(j.1b.3n&&e.4G!=27)e.1P()}.l(4));v.D(4.5,\'keyup\',6(e){7(4.2w)k;4.5C();j.1k(\'C:1d\',{C:4,O:4.O,K:e,3g:N})}.l(4));v.D(4.5,\'keypress\',6(e){7(4.2w)k;j.1k(\'C:1d\',{C:4,O:4.O,K:e});4p(e.4G){1G 9:4.33.17(6(18){f 1T=18.41;7(1T.2p==3)1T=1T.5F;7(1T.2d==\'LI\'||1T.up(\'li\')){e.1P();4.3f(\'70\')}}.l(4));1j;1G 13:1j}}.l(4))},3Z:6(2L){4.5.15=2L},4E:6(){k 4.5.15.21(/^\\s+|\\s+$/g,"")},5C:6(){f 18=4.h[\'M\'].2u();4.33=[];Z(f i=0;i<=18.5G-1;++i){f 1f=18.5H(i);7(1f.41==4.5||E.2f(1f.41,4.5)){4.33.1B(1f)}}},5E:6(5I){f 4H=4.5.1M(\'.t-C\');7(4H){f 18=4.h[\'M\'].2u();18.4r();f 1f=4.1e.5J();1f.71(4H);18.4I(1f);4.1L(\'72\',H);4.1L(\'2N\',4H.15)}f 73=4.5.15.1i(\'<!--StartFragment-->\')>-1||4.5.15.1i(\'="mso-\')>-1||4.5.15.1i(\'<o:\')>-1;7(73){f 74=5I.6n(4.5.15);f 5K=4.75(74);3W{4.1e.1L(\'72\',L,H);4.1L(\'2N\',5K)}3X(e){4.3Z(5I);j.1b(\'/t/sanitizer.23\',{25:\'HTML Sanitizer\',76:6(){$(\'midas_sanitized_content\').1H=5K.21(/<br\\/>/g,\'\\n\')}})}}},75:6(23){f 5L=G E(\'12\').1d(23);5L.1n(\'1y\').17(6(1y){1y.2v()});k 5L.77.21(/\\n\\n/g,\'<br/>\').21(/.*<!--.*-->/g,\'\').21(/^(<br\\/>)+|(<br\\/>\\s*)+$/g,\'\')},1L:6(z,42){42=3O(42)==\'6S\'?H:42;f 78=4.1e.1L(\'6Z\',L,L);f 2Y;3W{2Y=4.1e.1L(z,L,42)}3X(e){j.4k(e);7(z==\'70\'){f 3Y=4.5.6U;7(3Y!=4.3Y)3Y.2v()}2Y=N}7(!2Y&&78)1l(\'5M z "\'+z+\'"\');},4u:6(){k{O:4.O,2L:4.4E()}},6H:6(){7(4.2w){4.5.1X(\'t-C-4q\');4.5x();4.2w=L}V{4.5.3L=L;4.5.1x(\'t-C-4q\');4.5.J({S:H,6V:H,6X:H,6Y:H,3N:H});4.5.1X(\'t-C\');4.2w=N}},1w:6(){4.5.3L=\'L\';4.5.blur();4.5.1X(\'t-C\')},3f:6(z,K,q,h){h=h||{};7(4.2e[\'43\'][z]){f 43=4.2e[\'43\'][z];Z(f 3o in 43){7(P.2X(4.4K[3o])){4.4K[3o].1Q(4,z,q,h,43[3o]);f 79=W.2u();4.33.17(6(18){79.4I(18)})}V{1l(\'5M 3o 1v "\'+3o+\'"\');}}}V{4p(z){1G\'removeformatting\':4.1L(\'2N\',4.33[0].7a().77);1j;1G\'1y\':4.4L(\'2x\',6(){k G E(\'2x\',{\'1s\':h[\'1H\']})},6(5){5.1x(h[\'1H\'])});1j;1G\'5N\':4.4L(\'4M\',6(){k G E(\'4M\',{1y:\'44-3p:\'+h[\'1H\']})},6(5){5.J(\'44-3p:\'+h[\'1H\'])});1j;1G\'replaceHTML\':f 18=4.h[\'M\'].2u();f 1f=4.1e.5J();1f.selectNodeContents(4.5);18.4I(1f);4.1L(\'2N\',h[\'1H\']);1j;7b:4.1L(z,h[\'1H\'])}}},4L:6(2d,34,45){f 1f=4.33[0];f 2y=1f.7a();7(2y.56(\'12 table tr td\')){4.7c(2y,2d,34,45)}V{4.7d(2y,34,45)}},7c:6(2y,2d,34,45){f 22=2y.55();Z(f i=0;i<22.T;++i){7(22[i].5F.2d!=2d.4h()){E.4L(22[i],34.1Q(4))}V{45.1Q(4,22[i].5F)}}f 3q=G E(\'12\');3q.19(2y);f 23=3q.15;4.1L(\'2N\',23)},7d:6(2y,34){f 1T=34.1Q(4);1T.19(2y);f 3q=G E(\'12\');3q.19(1T);f 23=3q.15;4.1L(\'2N\',23)},4K:{2N:6(z,q,h,4N){f 1H=(P.2X(4N))?4N.1Q(4,z,q,h):4N;4.1L(\'2N\',1H)},1Q:6(z,q,h,1g){1g.1Q(4,z,q,h)}}});7(!j)f j={};j.3P=2H.2I({1D:0.2,1u:H,3r:[],2K:{},3s:[],3t:[],2z:[],h:{2A:H,M:W,X:H},3H:6(h){7(!j.1D)1l(\'j.3P 3a j\');4.3s=[];4.3t=[];4.2z=[];4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.2W;4.2e=4.h[\'X\'];4.2B();4.1U()},2B:6(){4.5=G E(\'12\',{id:4.h[\'id\']||4.7e()}).1x(\'t-q\');7(4.2e[\'5O\']){Z(f q in 4.2e[\'5O\']){f 5=G E(\'12\').1x(\'t-\'+q+\'bar\');f 2K=4.2e[\'5O\'][q];Z(f F in 2K){5.19(4.5P(F,2K[F]))}4.5.19(5)}}4.5Q=G E(\'12\',{1y:\'clear:both;S:0;3N:3c\'});4.5.19(4.5Q);f 2A=B.1F;7(4.h[\'2A\']){2A=$(4.h[\'2A\']);4.5.J(\'R:static;Q:0;1a:0\')}2A.19(4.5)},1U:6(){4.5R=6(e){e.1P()}.l(4);4.3e=6(e){4.5S(v.5(e))}.l(4);4.5T=6(e){7(e.4G==27)4.5S()}.l(4);v.D(4.5,\'2M\',4.5R);f 1W=[B];7(4.h[\'M\'].B!=B)1W.1B(4.h[\'M\'].B);1W.17(6(1e){v.D(1e,\'2s\',4.3e);v.D(1e,\'4F\',4.5T)}.l(4))},3Q:6(){v.2t(4.5,\'2M\',4.5R);f 1W=[B];7(4.h[\'M\'].B!=B)1W.1B(4.h[\'M\'].B);1W.17(6(1e){v.2t(1e,\'2s\',4.3e);v.D(1e,\'4F\',4.5T)}.l(4))},6D:6(){4.3Q();4.1U()},7e:6(){7(4.id)k 4.id;f id=H;f 5=\'\';while(5!==H){id=\'midas_toolbar\'+2q(7f.7g()*10000);5=$(id)}4.id=id;k id},5P:6(z,1q){f 5;7(P.isArray(1q)){f 7h=1q.4B(1q[0]).4B(1q[1]);5=G E(\'12\',{25:1q[1]?1q[1]:1q[0],\'1s\':\'t-F\'});5.1d(\'<em>\'+1q[0]+\'</em>\');5.1x(\'t-F-\'+z.21(\'_\',\'-\'));f 3u=L;7h.17(6(46){f 3v=46[0];f 1h=46[1];4p(3v){1G\'35\':4.3r.1B({5:5,1g:1h||z});1j;1G\'toggle\':5.D(\'24\',6(){5.7i(\'4s\')});1j;1G\'2g\':5.D(\'24\',6(){j.1k(\'2g\',{2g:1h||z,q:4})}.l(4));1j;1G\'26\':7(!1h)1l(\'4P "\'+z+\'" is 4R 1C\');5.1x(\'t-26-F\');4.3s.1B(G j.7j(5,z,4,{1o:P.2X(1h)?1h.3R(4,[z]):1h}));3u=N;1j;1G\'1n\':7(!1h)1l(\'4P "\'+z+\'" is 4R 1C\');5.1x(\'t-1n-F\');5.1M(\'em\').1d(1q[0]);4.3t.1B(G j.7k(5,z,4,{1o:P.2X(1h)?1h.3R(4,[z]):1h}));3u=N;1j;1G\'28\':7(!1h)1l(\'4P "\'+z+\'" is 4R 1C\');5.1x(\'t-28-F\');4.2z.1B(G j.7l(5,z,4,{1o:P.2X(1h)?1h.3R(4,[z]):1h,25:46[2]||1q[0]}));3u=N;1j;1G\'1b\':7(!1h)1l(\'4P "\'+z+\'" is 4R 1C\');5.D(\'24\',6(){f 1o=P.2X(1h)?1h.3R(4,[z]):1h;j.1b(1o,{25:46[2]||1q[0]})}.l(4));3u=N;1j;7b:1l(\'5M F 3v "\'+3v+\'" Z 3m "\'+z+\'" F\');}}.l(4));5.D(\'2M\',6(){5.1x(\'3w\')});5.D(\'2s\',6(){5.1X(\'3w\')});7(!3u)5.D(\'24\',6(K){K.1P();7(5.7m(\'2j\')||5.up(\'.2j\'))k;j.1k(\'F\',{z:z,K:K,q:4})}.l(4));4.2K[z]={5:5,spec:1q}}V 7(P.isString(1q)){5=4.7n(1q)}V{5=4.7o(z,1q)}k 5},7o:6(z,3x){f 5=G E(\'12\',{\'1s\':\'t-3x t-3x-\'+z});Z(f F in 3x){5.19(4.5P(F,3x[F]))}k 5},7n:6(F){k G E(\'2x\').1x(\'t-\'+(F==\'*\'?\'flex-5U\':F==\'-\'?\'7p-5U\':\'5U\'))},3d:6(C){4.1u=C},5o:6(1m,1u){f 18=4.h[\'M\'].2u();7(!18.5G)k;f 1f=18.5H(0);f p=1f.41;p=p.2p==3?E.up(p):p;7(!p)k;7(p!=1u.5&&!E.2f(p,1u.5))k;f T=4.3r.T;Z(f i=0;i<T;++i){f 35=4.3r[i];f 1g;7(3O(35[\'1g\'])==\'6\'){1g=35[\'1g\']}V{1g=j.3P.3r[35[\'1g\']]}7(3O(1g)==\'6\'){7(1g.1Q(4,p,1u)){35[\'5\'].1x(\'3w\')}V{35[\'5\'].1X(\'3w\')}}}},6E:6(){4.5.1n(\'.3w\').17(6(F){F.1X(\'3w\')})},5q:6(){k 4.5Q.47().Q},6G:6(){Z(f i=0;i<1C.T;++i){f 5;5=4.5.1M(\'.t-\'+1C[i]);7(!5)5=4.5.1M(\'.t-3x-\'+1C[i]);7(!5)5=4.5.1M(\'.t-F-\'+1C[i]);7(5)5.7i(\'2j\')}},5S:6(5){4.3s.17(6(26){7(5!=26.5||!5.2f(26.5)){7(5!=26.F)26.1c()}}.l(4));4.3t.17(6(1n){7(5!=1n.5||!5.2f(1n.5)){7(5!=1n.F)1n.1c()}}.l(4))},7q:6(){4.2z.17(6(28){28.1c()}.l(4))},1w:6(){4.3Q();4.3s.17(6(26){7(26.1w)26.1w()});4.3t.17(6(1n){7(1n.1w)1n.1w()});4.2z.17(6(28){7(28.1w)28.1w()});4.3s=[];4.3t=[];4.2z=[];7(4.5)4.5.2v();7(4.5)4.5=H}});P.1r(j.3P,{3r:{5N:6(p){4.2K[\'5N\'][\'5\'].J(\'44-3p:\'+p.1z(\'44-3p\'))},7r:6(p){4.2K[\'7r\'][\'5\'].J(\'44-3p:\'+p.1z(\'3p\'))},7s:6(p){f 4S=E.1z(p,\'4M-4S\');k 4S==\'7s\'||4S>400},7t:6(p){k E.1z(p,\'4M-1y\')==\'7t\'||p.2b==\'I\'||p.up(\'i\')||p.2b==\'EM\'||p.up(\'em\')},strikethrough:6(p){k E.1z(p,\'3y-7u\')==\'7p-through\'||p.2b==\'STRIKE\'||p.up(\'strike\')},7v:6(p){k E.1z(p,\'3y-7u\')==\'7v\'||p.2b==\'U\'||p.up(\'u\')},subscript:6(p){k p.2b==\'SUB\'||p.up(\'sub\')},superscript:6(p){k p.2b==\'SUP\'||p.up(\'sup\')},justifyleft:6(p){k(E.1z(p,\'3y-4T\')||\'\').1i(\'1a\')>-1},justifycenter:6(p){k(E.1z(p,\'3y-4T\')||\'\').1i(\'center\')>-1},justifyright:6(p){k(E.1z(p,\'3y-4T\')||\'\').1i(\'right\')>-1},justifyfull:6(p){k(E.1z(p,\'3y-4T\')||\'\').1i(\'justify\')>-1},insertorderedlist:6(p,C){7(p.2b==\'OL\')k N;f ol=E.up(p,\'ol\');k(ol)?ol.2f(C.5):L},insertunorderedlist:6(p,C){7(p.2b==\'ul\')k N;f ul=E.up(p,\'ul\');k(ul)?ul.2f(C.5):L}}});7(!j)f j={};j.5h=2H.2I({1D:0.2,h:{2A:H,X:H,M:W,2z:[\'5V\']},3H:6(h){7(!j.1D)1l(\'j.5h 3a j\');4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.2W;4.2e=4.h[\'X\'];4.2B();4.1U()},2B:6(){4.5=G E(\'12\',{\'1s\':\'t-1t\'});4.h.2z.17(6(1v){4.5.15+=4[\'3S\'+1v].1Q(4)}.l(4));($(4.h[\'2A\'])||B.1F).19(4.5)},1U:6(){v.D(4.5,\'2M\',6(e){e.1P()}.l(4))},1d:6(C,K){5D(6(){4.5.15=\'\';4.h.2z.17(6(1v){4[\'3S\'+1v].1Q(4,C,K)}.l(4))}.l(4),1)},2Z:6(){k($(4.h[\'2A\'])||4.5).2Z()},1w:6(){4.5.2v()},insertPath:6(C,K){7(!K)k\'<2x><4V>5V:</4V></2x>\';f 18=4.h[\'M\'].2u();7(!18.5G)k;f 1f=18.5H(0);f 1Y=\'\';f p=1f.41;p=p.2p==3?E.up(p):p;4.1Y=[];7(p!=C.5&&E.2f(p,C.5)){4.1Y=E.ancestors(p);f T=4.1Y.T-1;Z(f i=0;i<=T;++i){7(4.1Y[i]==C.5)1j;1Y=\'<a>\'+4.1Y[i].2d.4i()+\'</a> &raquo; \'+1Y}1Y+=\'<a>\'+p.2d.4i()+\'</a>\';4.1Y[-1]=p}f 5=G E(\'2x\').1d(\'<4V>5V:</4V> \'+1Y);5.D(\'24\',6(K){K.1P();f 4W=E.nextSiblings(v.5(K)).T;f 18=4.h[\'M\'].2u();f 1f=4.h[\'M\'].B.5J();1f.71(4.1Y[4W-1]);18.4r();18.4I(1f)}.bindAsEventListener(4));4.5.19(5)}});7(!j)f j={};j.49=2H.2I({1D:0.2,F:H,5:H,36:H,7w:7f.7g(),h:{1o:H,X:H},3H:6(F,O,q,h){7(!j.1D)1l(\'j.49 3a j\');4.F=F;4.O=O;4.q=q;4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.2W;4.2e=4.h[\'X\'];4.2B();4.1U()},2B:6(){4.5=G E(\'12\',{\'1s\':\'t-5W\',1y:\'1p:2k\'});4.q.5.19(4.5)},1U:6(){v.D(W,\'1V\',6(){4.R(4.1A)}.l(4));v.D(4.5,\'2M\',6(e){e.1P()});v.D(4.F,\'24\',6(){7(!4.5||4.2j())k;7(4.1A)4.1c();V 4.2O()}.l(4))},2O:6(){7(!4.3z){4.R();4.4X();k}7(4.q.1u){4.4a=4.q.1u.O;4.5.1x(4.4a)}4.5.J({Y:\'1I\',S:\'1I\'});4.R(4.1A);4.4X()},4X:6(){4.1A=N;G 2P.7x(4.5,{queue:{scope:\'5W:\'+4.7w,limit:2},5X:2P.5Y.5Z,61:.20,62:6(){f 1g=(4.1V||4.2O).l(4);7(!4.3z)4.1S(1g)}.l(4)})},1c:6(){7(4.4a){4.5.1X(4.4a);4.4a=H}4.5.1c();4.1A=L},R:6(2Q){},2j:6(){k(4.F.7m(\'2j\')||4.F.up(\'.2j\'))},1S:6(1g){G 4v.4w(4.h.1o,{1v:\'63\',4x:6(2C){4.3z=N;4.5.1X(\'37\');4.5.15=2C.3A;2C.3A.64();4.36=W[\'7y\'+4.O];7(4.36)4.36.1Q(4);7(1g)1g()}.l(4),65:6(){4.1c();66(\'j 67 68 to 1S "\'+4.h.1o+\'" Z 3m "\'+4.O+\'" 5W\')}.l(4)})},execute:6(z,h,K){j.1k(\'F\',{z:4.O,K:K,q:4.q,h:h})},1w:6(){7(4.5)4.5.2v();4.5=H}});7(!j)f j={};j.7j=2H.2I(j.49,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-26 37\',1y:\'1p:2k;\'});4.q.5.19(4.5);7(j.2W.preloadPalettes)4.1S()},R:6(2Q){7(!4.5)k;4.5.J({Q:0,1a:0,1p:\'2l\',29:\'3c\'});f R=4.F.47();f 1Z=4.5.3j();7(R.1a+1Z.Y>B.3i.2i()){R.1a=R.1a-1Z.Y+4.F.2i()}4.5.J({Q:(R.Q+4.F.2Z())+\'px\',1a:R.1a+\'px\',1p:2Q?\'2l\':\'2k\',29:\'1A\'})}});7(!j)f j={};j.7k=2H.2I(j.49,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-1n 37\',1y:\'1p:2k;\'});4.q.5.19(4.5);7(j.2W.preloadSelects)4.1S()},R:6(2Q){7(!4.5)k;4.5.J({Q:0,1a:0,1p:\'2l\',29:\'3c\'});f R=4.F.47();f 1Z=4.5.3j();f 2R=B.3i.3j();f Q=(R.Q+(4.F.2Z()/2)-(1Z.S/2));7(Q<R.Q-7z)Q=R.Q-7z;7(Q<20)Q=20;f S=\'1I\';7(Q+1Z.S>=2R.S-20){S=(2R.S-Q-20)}7(R.1a+1Z.Y>2R.Y){R.1a=R.1a-1Z.Y+4.F.2i()}4.5.J({Q:Q+\'px\',1a:R.1a+\'px\',S:S+\'px\',1p:2Q?\'2l\':\'2k\',29:\'1A\'})}});7(!j)f j={};j.7l=2H.2I(j.49,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-28 37\',1y:\'1p:2k;\'});4.5.1d(\'<h3 1s="25">\'+4.h[\'25\']+\'</h3><12 1s="t-28-4b"></12>\');4.q.5.19(4.5);4.2D=4.5.1M(\'h3.25\');4.1N=4.5.1M(\'12.t-28-4b\')},1U:6(){v.D(W,\'1V\',6(){4.R(4.1A)}.l(4));v.D(4.5,\'2M\',6(e){e.1P()});v.D(4.F,\'24\',6(){7(!4.5||4.2j())k;7(4.1A)4.1c();V{4.q.7q();4.F.1x(\'4s\');4.2O()}}.l(4))},R:6(2Q){7(!4.5)k;4.5.J({1p:\'2l\',29:\'3c\',Y:\'1I\'});f Q=4.q.5q();f S=B.3i.2Z()-Q-40;f R=4.5.47();f 38=4.5.2i();4.3B=B.3i.2i();4.5.J({Q:(Q+8)+\'px\',S:S+\'px\',Y:\'1I\',1p:2Q?\'2l\':\'2k\',29:\'1A\'});7(!4.7A){4.5.J({1a:(4.3B-38-20)+\'px\'})}7(4.6a||38+R.1a>4.3B){4.5.J({1a:(4.3B-38-20)+\'px\'})}7(!4.7B){4.7B=G Draggable(4.5,{4K:4.2D,constraint:\'horizontal\',zindex:10003,snap:6(x,y){f 38=4.5.2i();x=(x<30)?10:x;7(x>4.3B-(38+40)){x=4.3B-(38+20);4.6a=N;4.7A=N}V{4.6a=L}k[x,y]}.l(4)})}f 7C=2q(4.1N.1z(\'4Y-Q\'))+2q(4.1N.1z(\'4Y-7D\'));f 4c=2q(4.2D.1z(\'4Y-Q\'))+2q(4.2D.1z(\'4Y-7D\'))+2q(4.2D.1z(\'S\'));7(!2Q)4.5.1c();4.1N.J({S:(S-7C-4c)+\'px\'})},1V:6(){f 4Z=4.1N.2i();4.1N.J({Y:\'1I\'});f 50=4.1N.2i();4.1N.J({Y:4Z+\'px\'});f R=4.5.47();7(50<=4Z){4.1N.J({29:\'1A\',Y:\'1I\'});k}G 2P.Parallel([G 2P.7E(4.1N,{1y:{Y:50+\'px\'}}),G 2P.7E(4.5,{1y:{1a:R.1a-(50-4Z)+\'px\'}})],{5X:2P.5Y.5Z,61:.2,62:6(){4.1N.J({29:\'1A\',Y:\'1I\'})}.l(4)})},1S:6(1g){G 4v.4w(4.h.1o,{1v:\'63\',4x:6(2C){4.3z=N;4.5.1X(\'37\');4.1N.J({29:\'3c\',Y:4.1N.2i()+\'px\'});4.1N.15=2C.3A;2C.3A.64();4.36=W[\'7y\'+4.O];7(4.36)4.36.1Q(4);7(1g)1g()}.l(4),65:6(){4.1c();66(\'j 67 68 to 1S "\'+4.h.1o+\'" Z 3m "\'+4.O+\'" 28\')}.l(4)})},4X:6(){4.1A=N;G 2P.7x(4.5,{5X:2P.5Y.5Z,61:.2,from:0,to:.85,62:6(){7(!4.3z)4.1S(4.1V.l(4))}.l(4)})},1c:6($7F){4.F.1X(\'4s\');$7F()}});7(!j)f j={};j.1b=6(1o,h){f w=W.54()?W:Q;w.j.1b.2O(1o,h);k w.j.1b};P.1r(j.1b,{1D:0.2,2m:L,h:{25:\'\'},7G:6(h){4.1O=P.2J(4.h);P.1r(4.1O,h||{});7(4.2m)k L;4.7H();4.7I();4.2m=N},7H:6(){4.2S=G E(\'12\',{id:\'midas_modal_overlay\',1y:\'1p:2k\'});4.5=G E(\'12\',{id:\'midas_modal\',1y:\'1p:2k\'});4.5.1d(\'<7J 1s="t-1b-7K"><h1><2x></2x><a>&times;</a></h1><12 1s="t-1b-2L-1T"><12 1s="t-1b-2L"></12></12></7J>\');4.2n=4.5.1M(\'.t-1b-7K\');4.6b=4.5.1M(\'.t-1b-2L-1T\');4.2E=4.5.1M(\'.t-1b-2L\');B.1F.19(4.2S);B.1F.19(4.5)},7I:6(){v.D(W,\'1V\',4.R.l(4));v.D(4.5.1M(\'h1 a\'),\'24\',4.1c.l(4));v.D(4.2S,\'2M\',6(K){K.1P()});v.D(4.2S,\'2s\',6(K){K.1P()});v.D(4.5,\'2s\',6(K){K.1P()});v.D(4.2n,\'submit\',6(e){7(W[\'7L\'])W[\'7L\'](e)});f 6c=[B];f 11=$(\'t-11-W\');7(11)6c.1B(11.M.B);6c.17(6(1e){v.D(1e,\'4F\',6(e){7(4.3n&&e.4G==27)4.1c()}.l(4))}.l(4))},2O:6(1o,h){4.7G(h);4.2E.15=\'\';4.1S(1o);4.7M();7(!4.3n){4.3n=N;4.2S.2O();4.5.J({1p:\'2l\',29:\'1A\',R:H});4.2n.J({1p:\'2l\',29:\'1A\',R:H});4.1k(\'onShow\')}V{4.1d()}},1d:6(){7(!4.2m)1l("j.6d 6e 1d 6f it\'s 6h 2m");4.1k(\'onUpdate\')},1c:6(h){7(!4.2m)1l("j.6d 6e 1c 6f it\'s 6h 2m");7(h){4.1O=P.2J(4.h);P.1r(4.1O,h)}4.1k(\'beforeHide\');4.3n=L;4.5.1c();4.2S.1c();7(4.1R){4.1R.2v()}},7M:6(){7(!4.2m)1l("j.6d 6e 1d 3m 25 6f it\'s 6h 2m");f 2D=4.5.1M(\'h1 2x\');7(4.1O[\'25\']){2D.2O();2D.1d(4.1O[\'25\']||\'&2U;\')}V{2D.1c()}},1S:6(1o,h){7(h){4.1O=P.2J(4.h);P.1r(4.1O,h)}4.5.1x(\'37\');G 4v.4w(1o,{1v:4.1O[\'1v\']||\'63\',3h:4.1O[\'3h\']||{},4x:6(2C){4.3z=N;4.5.1X(\'37\');4.2E.15=2C.3A;2C.3A.64();4.7N();4.R();4.1k(\'76\')}.l(4),65:6(){4.1c();66(\'j 67 68 to 1S "\'+1o+\'" Z 3m 1b\')}.l(4)})},R:6(){7(!4.5)k;4.2n.J(\'Y:1I\');4.2E.J(\'S:1I\');4.6b.J(\'S:1I\');4.2n.J({1p:\'2l\'});f 1Z=4.2n.3j();4.5.J({Y:1Z.Y+\'px\'});4.2n.J({Y:1Z.Y+\'px\'});4.2E.1c();4.2E.slideDown();f 2R=B.3i.3j();7(1Z.S>=2R.S-20||4.1O[\'fullHeight\']){f 4c=4.5.1M(\'h1\').2Z();f 6i=4.1R?4.1R.offsetHeight:0;4.6b.J({S:(2R.S-4c-6i-20)+\'px\'});4.2E.J({S:(2R.S-4c-6i-60)+\'px\'})}},7N:6(){4.1R=4.2E.1M(\'.t-1b-1R\');7(4.1R){4.2n.19(4.1R)}4.2F=0;4.3C=4.2n.1n(\'.t-1b-4b\');7(4.3C.T>1){7(!4.1R){4.1R=G E(\'12\',{\'1s\':\'t-1b-1R\'});4.2n.19(4.1R)}4.3D=G E(\'7O\',{3v:\'F\',1H:\'Previous\',2j:\'2j\'});4.4e=G E(\'7O\',{3v:\'F\',1H:\'Next\'});4.3D.D(\'24\',4.7P.l(4));4.4e.D(\'24\',4.7Q.l(4));4.1R.3S({Q:4.3D});4.3D.3S({after:4.4e});4.51(0)}},7P:6(){4.51(4.2F-1)},7Q:6(){4.51(4.2F+1)},51:6(4W){4.2F=4W;7(4.2F<=0){4.2F=0;4.3D.7R()}V{4.3D.7S()}7(4.2F>=4.3C.T-1){4.2F=(4.3C.T-1);4.4e.7R()}V{4.4e.7S()}4.3C.17(6(4b){4b.J(\'1p:2k\')});4.3C[4.2F].J(\'1p:2l\')},1k:6(4f){f r=N;7(4.1O[4f]){f 6j=4.1O[4f].1Q(4);7(!P.isUndefined(6j))r=6j;4.1O[4f]=H}j.1k(\'1b:\'+4f);k r},1w:6(){4.2S.2v();4.5.2v();4.2S=H;4.5=H;4.2E=H;4.2m=L}});',[],489,'||||this|element|function|if||||||||var||options||Midas|return|bind||||node|toolbar|||midas||Event||||action||document|region|observe|Element|button|new|null||setStyle|event|false|contentWindow|true|name|Object|top|position|height|length||else|window|configuration|width|for||iframe|div|||innerHTML||each|selection|appendChild|left|modal|hide|update|doc|range|callback|mixed|indexOf|break|fire|throw|regions|select|url|display|buttonSpec|extend|class|statusbar|activeRegion|method|destroy|addClassName|style|getStyle|visible|push|arguments|version||body|case|value|auto|agent||execCommand|down|panelElement|_options|stop|call|controls|load|container|setupObservers|resize|observedDocuments|removeClassName|path|dimensions||replace|textnodes|html|click|title|palette||panel|visibility|that|nodeName|childNodes|tagName|config|descendantOf|mode|host|getWidth|disabled|none|block|initialized|frameElement|thisItem|nodeType|parseInt|memo|mouseup|stopObserving|getSelection|remove|previewing|span|fragment|panels|appendTo|build|transport|titleElement|contentElement|paneIndex|thatItem|Class|create|clone|buttons|content|mousedown|insertHTML|show|Effect|keepVisible|viewportDimensions|overlayElement|prototype|nbsp|location|Config|isFunction|handled|getHeight||links|uri|selections|newElementCallback|context|setupFunction|loading|elementWidth|modes|requires||hidden|setActiveRegion|__mouseup|handleAction|changed|parameters|viewport|getDimensions|instances||the|showing|behavior|color|wrapper|contexts|palettes|selects|observed|type|active|group|text|loaded|responseText|viewportWidth|panes|prevButton|toHex|href|useIframe|initialize|toolbarOptions|regionOptions|statusbarOptions|contentEditable|iframeContainer|overflow|typeof|Toolbar|removeObservers|apply|insert|console|view|args|try|catch|sibling|setContents||commonAncestorContainer|argument|behaviors|background|updateElementCallback|buttonType|cumulativeOffset||Dialog|contextClass|pane|titleHeight||nextButton|eventName|result|toUpperCase|toLowerCase|regExEscape|trace|src|onBeforeUnload|regionElements|Region|switch|preview|removeAllRanges|pressed|debug|serialize|Ajax|Request|onSuccess|offsetTop|agentId|instance|without|split|target|getContents|keydown|keyCode|pastedRegion|addRange||handle|wrap|font|callbackOrValue||Button||missing|weight|align||strong|index|appear|padding|oldWidth|newWidth|showPane|item|String|isTop|getTextNodes|containsTags|tags|diff|callee|sRE|classname|agentIsCapable|initializeRegions|finalizeInterface|hijackLinks|onbeforeunload|Statusbar|__midasButton|__midasAction|__midasMode|handleMode|__midasRegion|__midasRegionUpdate|setActiveButtons|serialized|getBottomOffset|statusbarHeight|prompt|msie|opera|konqueror|getAttribute|makeEditable|Prototype|Browser|Gecko|selecting|updateSelections|setTimeout|afterPaste|parentNode|rangeCount|getRangeAt|beforeHtml|createRange|cleaned|temp|Unknown|backcolor|toolbars|makeButton|positioningElement|__mousedown|hidePopups|__keydown|separator|Path|dialog|transition|Transitions|sinoidal||duration|afterFinish|get|evalScripts|onFailure|alert|was|unable||pinned|contentContainerElement|documents|Modal|cannot|before||been|controlsHeight|returnValue|innerText|DocumentFragment|continue|singleDiff|thatLength|substr||RegExp|specials|saveUrl|saveMethod|actionsToHandle|save|browser|has|features|registerInstance|initializeInterface|resetModes|reinitializeObservers|unsetActiveButtons|reset|toggleDisabled|togglePreview|unregisterInstance|silent|message|you|gecko|safari|match|http|https|hostname|undefined|inline|previousSibling|minHeight|20px|minWidth|maxWidth|styleWithCSS|indent|selectNode|undo|pastedFromWord|pasted|sanitizeHtml|afterLoad|textContent|supported|sel|cloneContents|default|wrapTextnodes|wrapFragment|generateId|Math|random|types|toggleClassName|Palette|Select|Panel|hasClassName|makeSeparator|makeButtonGroup|line|hidePanels|forecolor|bold|italic|decoration|underline|scopeId|Appear|midas_setup_|100|moved|draggable|paddingHeight|bottom|Morph|super|_initialize|_build|_setupObservers|form|frame|midas_modal_submit|updateTitle|setupControls|input|prevPane|nextPane|disable|enable'.split('|'),0,{}));
Midas.Config = {

  /* The stylesheet to load for the skin of the toolbar/editable regions.
   */
  stylesheet: '/stylesheets/midas.css',

  /* Things like palettes, and select menus can be preloaded when the page loads, instead of
   * loading the first time the button is clicked.
   */
  preloadPalettes: true,
  preloadSelects: true,

  /* Toolbars
   *
   * Any object you put in here will create a new toolbar.
   *
   * button format: [label, description, [type, action], [type, action], etc]
   * type can be:
   *   'button' (default) calls handleCommand and passes the key of the object
   *            (eg. save, preview, undo etc.)
   *   'toggle' will toggle on or off when clicked (and otherwise behaves like a button)
   *   'modal' will open a modal window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *     note: optionally provide a second string argument for the modal dialog title
   *   'panel' will open a panel dialog, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *     note: optionally provide a second string argument for the panel title
   *   'palette' will open a palette window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *   'select' will open a select/pulldown style window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *   'context' will call a callback function, expects the action to be:
   *     a function that returns a boolean to highlight the button or not
   *     note: if a function isn't provided, the key will be passed to the
   *           contextHandler (eg. backcolor, bold, etc.), in which case a
   *           default context will be used (there are several defined in
   *           Midas.Toolbar.contexts).
   *   'mode' will toggle a given mode in the editor, expects the action to be:
   *     a string, denoting the name of the mode
   *     note: if a string isn't provided, the key will be passed to the
   *           modeHandler (eg. preview, html, etc.)
   *     note: it's assumed that when a specific "mode" is turned on, all other "modes" will be
   *           turned off (this happens automatically), thus putting the editor into a specific
   *           "state".
   *
   * If a button is an object (not an array, not a string), it's assumed that it's a button group,
   * all of it's children will be expected to be buttons or button groups.  A button group is
   * wrapped within a div for styling.  It's important to note that each of the keys, regardless of
   * if it's in a group or not needs to be unique.
   *
   * The save action is special, in that it's handled by Midas directly, all other actions are
   * handled by Midas.Region.
   *
   * Separators are any "button" that's not an array, and are expected to be a string.  You can use
   * three different separator styles: line, spacer, and flex spacer.
   * '-' = line
   * ' ' = spacer
   * '*' = flex spacer
   */
  toolbars: {
    actions: {
      save:                  ['Save', 'Save this page'],
      preview:               ['Preview', 'Preview this page', ['toggle'], ['mode']],
      sep1:                  ' ',
      undoredo:              {
        undo:                ['Undo', 'Undo your last action'],
        redo:                ['Redo', 'Redo your last action'],
        sep2:                ' '
        },
      insert:                {
        insertlink:          ['Link', 'Insert a hyperlink', ['modal', '/midas/link.html']],
        insertmedia:         ['Media', 'Insert media', ['modal', '/midas/media.html']],
        inserttable:         ['Table', 'Insert a table', ['modal', '/midas/table.html']],
        insertobject:        ['Object', 'Insert an object (form, widget, etc)', ['modal', '/midas/object.html']],
        insertcharacter:     ['Character', 'Insert special characters', ['modal', '/midas/character.html']],
        sep3:                '*'
        },
      inspector:             {
        inspectorpanel:      ['Inspector', 'Open the element inspector panel', ['panel', '/midas/inspector.html']],
        sep3:                '*'
        },
      notespanel:            ['Notes', 'Open the page notes panel', ['panel', '/midas/notes.html', 'Page Notes']],
      historypanel:          ['History', 'Open the page history panel', ['panel', '/midas/history.html']]
      },
    htmleditor: {
      style:                 ['Style', '', ['select', '/midas/style.html']],
      formatblock:           ['Block Format', '', ['select', '/midas/formatblock.html']],
      sep1:                  '-',
      backcolor:             ['Background Color', '', ['palette', '/midas/backcolor.html'], ['context']],
      forecolor:             ['Text Color', '', ['palette', '/midas/forecolor.html'], ['context']],
      sep2:                  '-',
      decoration:            {
        bold:                ['Bold', '', ['context']],
        italic:              ['Italicize', '', ['context']],
        //overline:            ['Overline', '', ['context']],
        strikethrough:       ['Strikethrough', '', ['context']],
        underline:           ['Underline', '', ['context']],
        sep:                 '-'
        },
      script:                {
        subscript:           ['Subscript', '', ['context']],
        superscript:         ['Superscript', '', ['context']],
        sep:                 '-'
        },
      justify:               {
        justifyleft:         ['Align Left', '', ['context']],
        justifycenter:       ['Center', '', ['context']],
        justifyright:        ['Align Right', '', ['context']],
        justifyfull:         ['Justify Full', '', ['context']],
        sep:                 '-'
        },
      list:                  {
        insertunorderedlist: ['Unordered List', '', ['context']],
        insertorderedlist:   ['Numbered List', '', ['context']],
        sep:                 '-'
        },
      indent:                {
        outdent:             ['Decrease Indentation', ''],
        indent:              ['Increase Indentation', ''],
        sep:                 '-'
        },
      //table:                 {
      //  insertrowbefore:     ['Insert Row', 'Insert a table row before'],
      //  insertrowafter:      ['Insert Row', 'Insert a table row after'],
      //  deleterow:           ['Delete Row', 'Delete this table row'],
      //  insertcolumnbefore:  ['Insert Column', 'Insert a table column before'],
      //  insertcolumnafter:   ['Insert Column', 'Insert a table column after'],
      //  deletecolumn:        ['Delete Column', 'Delete this table column'],
      //  sep:                 '-'
      //  },
      breaks:                {
        horizontalrule:      ['Horizontal Rule', ''],
        sep:                 '-'
        },
      removeformatting:      ['Remove Formatting', ''],
      htmleditor:            ['Edit HTML', '']
      }
    },

  /* Behaviors for htmleditor
   *
   * Behaviors are used to change the default behaviors of the editor when a given button is
   * clicked.  For example, we prefer to add HR tags using an HR wrapped within a div with a
   * classname of hr, which allows for more flexible styling.  To add your own complex
   * behaviors just prototype them onto Midas.Region.handle.
   *
   * An example behavior would be to add a new button, called buynowbutton, and providing a
   * behavior something like the following:
   *
   * buynowbutton: {insertElement: function() {
   *   return new Element('a', {href: '/buy-now', class: 'buy-now'}).update('Buy Now!');
   * }}
   *
   * It's important to note that the this keyword inside the callback functions is an instance of
   * Midas.Region.
   */
  behaviors: {
    horizontalrule:      {insertHTML: function() {
                           return '<div class="hr"><hr/></div>';
                         }},
    htmleditor:          {call: function() {
                           Midas.modal('/midas/htmleditor.html', {
                             title: 'HTML Editor',
                             fullHeight: true,
                             afterLoad: function() {
                               $('midas_html_editor_content').value = this.getContents();
                             }.bind(this)
                           });
                         }}
    }
};
