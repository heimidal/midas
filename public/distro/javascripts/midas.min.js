eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([4-7fhj-lpqtvzB-HJ-TV-Z]|[1-7]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('NodeList.2T.equals=6(2b){f T=4.T;7(T!=2b.T)k L;f 2p,2G,i;T=T-1;Z(i=0;i<=T;++i){2p=4[i];2G=2b.51(i);7(2p.2q!=2G.2q||2p.2c!=2G.2c)k L}Z(i=0;i<=T;++i){2p=4.51(i);2G=2b.51(i);7(2p.2q==3){7(2p.6n!=2G.6n)k L}V 7(2p.15&&2G.15){7(2p.15!=2G.15)k L}}k N};Number.2T.3E=6(){f 4i=4.toString(16).4j();k 4i[1]?4i:"0"+4i};52.2T.3E=6(){k 4.22(/rgb\\((\\d+)[\\s|\\,]?\\s(\\d+)[\\s|\\,]?\\s(\\d+)\\)/gi,6(a,b,c,d){k"#"+2r(b).3E()+2r(c).3E()+2r(d).3E()})};W.53=6(){k(4==Q)};6o.2T.54=6(5,23){5=5||4;23=23||[];E.cleanWhitespace(5);Z(f i=0;i<=5.2d.T-1;++i){7(5.2d[i].2q==3){23.1B(5.2d[i])}V{4.54(5.2d[i],23)}}k 23};6o.2T.55=6(56,5){5=5||4;f i;Z(i=0;i<=5.2d.T-1;++i){7(5.2d[i].2q==3)6p;7(56.1j(5.2d[i].2e.4k())>-1){k N}}Z(i=0;i<=5.2d.T-1;++i){7(5.2d[i].2q==3)6p;7(4.55(56,5.2d[i])){k N}}k L};52.2T.6q=6(2b){f 57=\'\';f 6r=2b.T;Z(f i=0;i<6r;++i){7(4[i]!=2b[i]){f 4l=4.6s(i).4l().22(/^\\s+|^(&2U;)+/g,\'\');f re=G 6u(4l+\'$\',\'m\');57=2b.6s(i).22(re,\'\');1k}}k 57};52.2T.4l=6(){7(!1C.58.59){f 6v=[\'/\',\'.\',\'*\',\'+\',\'?\',\'|\',\'(\',\')\',\'[\',\']\',\'{\',\'}\',\'\\\\\'];1C.58.59=G 6u(\'(\\\\\'+6v.join(\'|\\\\\')+\')\',\'g\')}k 4.22(1C.58.59,\'\\\\$1\')};f j=2H.2I({1D:0.2,h:{5a:\'editable\',6w:W.2V.3F,6x:\'put\',X:H,3G:L},3c:{},M:W,6y:[\'6z\'],3H:6(h,3I,3J,3K){h=h||{};7(!j.5b())1m(\'j 3d a 6A 2b 6B 3L 6C\');7(h[\'3G\']&&!W.53()){j.3M(\'j will only instantiate in "Q", when using an 11\');k}j.6D(4);4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.3N;4.1P=4.h[\'X\'];4.3I=3I||{};4.3K=3K||{};4.3J=3J||{};4.6E()},6E:6(){4.1n=[];7(4.h[\'3G\']){f 4m=(4.h[\'3G\']===N)?W.2V.3F+\'?midas_regions=N\':4.h[\'3G\'];4.11=G E(\'11\',{seamless:\'N\',frameborder:\'0\',id:\'t-11-W\',4m:\'about:blank\'});v.D(4.11,\'1Q\',6(){4.5c(4.11.M);4.5d();4.6F();j.5e(4.11.M.B.1F);4.11.M.5f=j.4n}.l(4));4.11.4m=4m;4.3O=G E(\'12\',{\'1s\':\'t-11-1V\'});4.3O.1b(4.11);B.1F.J(\'3P:3f\');B.1F.1b(4.3O)}V{4.5c(4.M);4.5d();j.5e(B.1F);W.5f=j.4n}},5c:6(M){4.M=M;P.1r(4.3J,{M:4.M,X:4.h[\'X\']});f 1F=4.M.B.1F;7(3Q(1F.1o)==\'6\'){4.4o=1F.1o(\'.\'+4.h[\'5a\'])}V{4.4o=1F.getElementsByClassName(4.h[\'5a\'])}4.1n=[];Z(f i=0;i<4.4o.T;++i){4.1n.1B(G j.4p(4.4o[i],4.3J,\'t\'+4._id+\'_region_\'+i))}},5d:6(){7(4.1n[0])4.3g(4.1n[0]);P.1r(4.3I,{M:4.M,X:4.h[\'X\']});P.1r(4.3K,{M:4.M,X:4.h[\'X\']});7(!4.p&&!4.1t){4.p=G j.3R(4.3I);4.1t=G j.5g(4.3K);4.1W()}V{7(4.p)4.p.6G()}4.1R()},1W:6(){4.3h=6(e){f 5=v.5(e);7(5!=B){7(4.p&&(5.2f(4.p.5)||5==4.p.5))k;7(4.1t&&(5.2f(4.1t.5)||5==4.1t.5))k;Z(f i=0;i<4.1n.T;++i){7(5==4.1n[i].5||5.2f(4.1n[i].5))k}}4.3g(H);7(4.p)4.p.6H()}.l(4);4.5h=6(e){f a=e.2s;4.3i(a[\'z\'],a[\'K\'],a[\'p\'],a[\'h\'])}.l(4);4.5i=6(e){f a=e.2s;4.3i(a[\'z\'],e,H,a[\'h\'])}.l(4);4.5j=6(e){f a=e.2s;7(4.p!=a[\'p\'])k;4.5k(a[\'2g\'],a[\'p\'])}.l(4);4.5l=6(e){f a=e.2s;7(4.1n.1j(a[\'C\'])<0)k;7(a[\'3j\'])4.3j=N;4.3g(a[\'C\'])}.l(4);4.5m=6(e){f a=e.2s;j.1l(\'C\',e.2s);7(4.1n.1j(a[\'C\'])<0)k;7(4.1t)4.1t.1e(4.1u,a[\'K\']);7(4.p)4.p.5n(4.1n,4.1u)}.l(4);v.D(W,\'1R\',4.1R.l(4));f 1X=[B];7(4.11)1X.1B(4.11.M.B);1X.17(6(1f){v.D(1f,\'2t\',4.3h)}.l(4));v.D(B,\'t:F\',4.5h);v.D(B,\'t:z\',4.5i);v.D(B,\'t:2g\',4.5j);v.D(B,\'t:C\',4.5l);v.D(B,\'t:C:1e\',4.5m)},3S:6(){v.2u(W,\'1R\',4.1R.l(4));f 1X=[B];7(4.11)1X.1B(4.11.M.B);1X.17(6(1f){v.2u(1f,\'2t\',4.3h)}.l(4));v.2u(B,\'t:F\',4.5h);v.2u(B,\'t:z\',4.5i);v.2u(B,\'t:2g\',4.5j);v.2u(B,\'t:C\',4.5l);v.2u(B,\'t:C:1e\',4.5m)},3g:6(C){4.1u=C;7(4.p)4.p.3g(C)},3i:6(z,K,p,h){h=h||{};7(p&&4.p!=p)k;7(4.6y.1j(z)>-1){7(P.2W(4[z])){f 2X=4[z].3T(4,1C);7(2X)k 2X}}7(!4.1u)k;4.3j=N;4.1u.3i(z,K,p,h);7(4.1t)4.1t.1e(4.1u,K);7(4.p)4.p.5n(4.1n,4.1u)},5k:6(2g,p,6I){4.3c[2g]=4.3c[2g]?L:N;4q(2g){1G\'4r\':W.2v().4s();7(4.11)4.11.M.2v().4s();p.6J(\'htmleditorbar\',\'undoredo\',\'3U\',\'inspector\');7(6I){p.2K[\'4r\'].5.1Y(\'4t\');1k}4.1n.17(6(C){C.6K()});1k}},6F:6(){Z(f i in 4.3c){3V.4u(i,4.3c[i]);7(4.3c[i]){4.5k(i,4.p,N)}}},4v:6(){f 5o={};4.1n.17(6(C){f 1H=C.4v();5o[1H.O]=1H.2L});k 5o},6z:6(){f 1v=4.h.6x;f 3k={};7(1v.4j()!=\'POST\'&&1v.4j()!=\'GET\'){3k[\'_method\']=1v}G 5p.5q(4.h.6w,{1v:1v,3k:P.1r(3k,4.4v()),3l:6(){4.3j=L}.l(4)});k N},1R:6(){f 3W=B.3m.3n();7(4.11){f 4w=(4.p)?4.p.5r():0;f 5s=(4.1t)?4.1t.2Y():0;4.3O.J({S:(3W.S-5s-4w-10)+\'px\',Y:3W.Y+\'px\',Q:4w+\'px\',1c:0});4.11.J({S:(3W.S-5s-4w-10)+\'px\',Y:3W.Y+\'px\'})}},1w:6(){4.3S();7(4.p)4.p.1w();7(4.1t)4.1t.1w();4.1n.17(6(C){C.1w()});7(4.11){B.1F.J(\'3P:1I\');4.3O.2w();4.11=H}4.p=H;4.1t=H;4.1n=[];j.6L(4)}});P.1r(j,{1D:0.2,3o:[],4x:H,4u:L,6M:L,5t:{},6D:6(4y){4.3o.1B(4y)},6L:6(4y){4.3o=4.3o.4z(4y)},4n:6(){f 5u=L,6N="You have unsaved changes.  Are 6O sure 6O want to leave 4z saving them first?";Z(f i=0;i<j.3o.T;++i){7(j.3o[i].3j){5u=N;1k}}7(!j.6M&&5u)k 6N},1J:6(){7(4.4x)k 4.4x;f 1J=navigator.userAgent.4k();f O=H;7((1J.1j("5v")!=-1)&&(1J.1j("5w")==-1)&&(1J.1j("webtv")==-1)){O=\'5v\'}V 7(1J.1j("5w")!=-1){O=\'5w\'}V 7(1J.1j("6P")!=-1){O=\'6P\'}V 7(1J.1j("6Q")!=-1){O=\'6Q\'}V 7(1J.1j("5x")!=-1){O=\'5x\'}4.4x=O;k O},5b:6(){f 1J=j.1J();k(1J&&B.getElementById&&B.designMode&&1J!=\'5x\'&&1J!=\'5v\')?N:L},5e:6(5){f 31=E.1o(5,\'a\');Z(f i=0;i<31.T;++i){f 32=31[i].5y(\'3F\');f 2h=32.6R(/^[6S:|6T:]/)?32.4A(\'://\')[1].4A(\'/\')[0]:L;7(2h&&2h!=W.2V.2h&&2h!=W.2V.6U&&((31[i].4B==\'\'||31[i].4B==\'_self\'))&&!31[i].up(\'.t-C\')){31[i].writeAttribute(\'4B\',\'_top\')}}},4C:6(18,h){7(j.5t[18]){j.3M(\'j.4C\',18);7(h.3l)h.3l({33:j.5t[18]})}V{G 5p.5q(18,h)}},1l:6(K,2s){K=\'t:\'+K;j.3M(\'j.1l\',K,2s);v.1l(B,K,2s)},3M:6(){f 3X=[];Z(f i=0;i<1C.T;++i)3X.1B(1C[i]);7(j.4u&&3Q(3V)!=\'6V\'){3Y{3V.4u(3X)}3Z(e1){3Y{3V.info(3X)}3Z(e2){3Y{3V.log(3X)}3Z(e3){}}}}}});7(!j)f j={};j.4p=2H.2I({1D:0.2,O:H,h:{X:H,M:W,6W:L},2x:L,3H:6(5,h,O){7(!j.1D)1m(\'j.4p 3d j\');7(!j.5b())1m(\'j.4p 3d a 6A 2b 6B 3L 6C\');4.5=$(5);7(!4.5)1m(\'Unable to locate 3p 5 "\'+5+\'"\');4.41=4.5.6X;4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.3N;4.1P=4.h[\'X\'];4.O=4.5.5y(\'id\')||O;4.1f=4.h[\'M\'].B;4.34=[];4.5z();4.1W()},5z:6(){4.5.1x(\'t-C\');7(4.5.15.22(/^\\s+|\\s+$/g,"")==\'\'&&5A.5B.5C){4.42(\'&2U;\')}7(4.h[\'6W\']){4.5.J({S:\'1I\',6Y:\'6Z\',70:\'6Z\'})}V{4.5.J({3P:\'1I\'});f Y=4.5.2i();7(Y)4.5.J({71:Y+\'px\'})}4.5.3L=N;4.1f.1L(\'72\',L,L)},1W:6(){v.D(B,\'2t\',6(){7(!4.5D)k;4.5D=L;4.5E()}.l(4));v.D(4.5,\'focus\',6(e){7(4.2x)k;j.1l(\'C\',{C:4,O:4.O,K:e});7(4.4D()==\'&2U;\'&&5A.5B.5C)4.42(\'&2U;\')}.l(4));v.D(4.5,\'paste\',6(e){7(j.1d.3q)e.1S();f 24=4.5.15;5F(6(){4.5G(24)}.l(4),1)}.l(4));v.D(4.5,\'drop\',6(e){f 24=4.5.15;5F(6(){4.5G(24)}.l(4),1)}.l(4));v.D(4.5,\'2M\',6(){4.5D=N}.l(4));v.D(4.5,\'2t\',6(e){7(4.2x)k;j.1l(\'C:1e\',{C:4,O:4.O,K:e})}.l(4));v.D(4.5,\'25\',6(e){7(4.2x){f 5=e.4B;7(5.2e==\'A\'){f 32=5.5y(\'3F\');f 2h=32.6R(/^[6S:|6T:]/)?32.4A(\'://\')[1].4A(\'/\')[0]:L;7(2h&&2h!=Q.2V.2h&&2h!=Q.2V.6U){4.h[\'M\'].5f=j.4n;Q.2V.3F=32;e.1S()}}}V{j.1l(\'C\',{C:4,O:4.O,K:e});7(4.4D()==\'&2U;\'&&5A.5B.5C)4.42(\'&2U;\')}}.l(4));v.D(4.5,\'4E\',6(e){7(j.1d.3q&&e.4F!=27)e.1S()}.l(4));v.D(4.5,\'keyup\',6(e){7(4.2x)k;4.5E();j.1l(\'C:1e\',{C:4,O:4.O,K:e,3j:N})}.l(4));v.D(4.5,\'keypress\',6(e){7(4.2x)k;j.1l(\'C:1e\',{C:4,O:4.O,K:e});4q(e.4F){1G 9:4.34.17(6(19){f 1V=19.43;7(1V.2q==3)1V=1V.5H;7(1V.2e==\'LI\'||1V.up(\'li\')){e.1S();4.3i(\'73\')}}.l(4));1k;1G 13:1k}}.l(4))},42:6(2L){4.5.15=2L},4D:6(){k 4.5.15.22(/^\\s+|\\s+$/g,"")},5E:6(){f 19=4.h[\'M\'].2v();4.34=[];Z(f i=0;i<=19.5I-1;++i){f 1g=19.5J(i);7(1g.43==4.5||E.2f(1g.43,4.5)){4.34.1B(1g)}}},5G:6(5K){f 4G=4.5.1M(\'.t-C\');7(4G){f 19=4.h[\'M\'].2v();19.4s();f 1g=4.1f.5L();1g.74(4G);19.4H(1g);4.1L(\'75\',H);4.1L(\'2N\',4G.15)}f 76=4.5.15.1j(\'<!--StartFragment-->\')>-1||4.5.15.1j(\'="mso-\')>-1||4.5.15.1j(\'<o:\')>-1;7(76){f 77=5K.6q(4.5.15);f 5M=4.78(77);3Y{4.1f.1L(\'75\',L,H);4.1L(\'2N\',5M)}3Z(e){4.42(5K);j.1d(\'/t/modals/sanitizer.24\',{26:\'HTML Sanitizer\',79:6(){$(\'midas_sanitized_content\').1H=5M.22(/<br\\/>/g,\'\\n\')}})}}},78:6(24){f 5N=G E(\'12\').1e(24);5N.1o(\'1y\').17(6(1y){1y.2w()});k 5N.7a.22(/\\n\\n/g,\'<br/>\').22(/.*<!--.*-->/g,\'\').22(/^(<br\\/>)+|(<br\\/>\\s*)+$/g,\'\')},1L:6(z,44){44=3Q(44)==\'6V\'?H:44;f 7b=4.1f.1L(\'72\',L,L);f 2X;3Y{2X=4.1f.1L(z,L,44)}3Z(e){j.3M(e);7(z==\'73\'){f 41=4.5.6X;7(41!=4.41)41.2w()}2X=N}7(!2X&&7b)1m(\'5O z "\'+z+\'"\');},4v:6(){k{O:4.O,2L:4.4D()}},6K:6(){7(4.2x){4.5.1Y(\'t-C-4r\');4.5z();4.2x=L}V{4.5.3L=L;4.5.1x(\'t-C-4r\');4.5.J({S:H,6Y:H,70:H,71:H,3P:H});4.5.1Y(\'t-C\');4.2x=N}},1w:6(){4.5.3L=\'L\';4.5.blur();4.5.1Y(\'t-C\')},3i:6(z,K,p,h){h=h||{};7(4.1P[\'45\'][z]){f 45=4.1P[\'45\'][z];Z(f 3r in 45){7(P.2W(4.4J[3r])){4.4J[3r].1T(4,z,p,h,45[3r]);f 7c=W.2v();4.34.17(6(19){7c.4H(19)})}V{1m(\'5O 3r 1v "\'+3r+\'"\');}}}V{4q(z){1G\'removeformatting\':4.1L(\'2N\',4.34[0].7d().7a);1k;1G\'1y\':4.4K(\'2y\',6(){k G E(\'2y\',{\'1s\':h[\'1H\']})},6(5){5.1x(h[\'1H\'])});1k;1G\'5P\':4.4K(\'4L\',6(){k G E(\'4L\',{1y:\'46-3s:\'+h[\'1H\']})},6(5){5.J(\'46-3s:\'+h[\'1H\'])});1k;1G\'replaceHTML\':f 19=4.h[\'M\'].2v();f 1g=4.1f.5L();1g.selectNodeContents(4.5);19.4H(1g);4.1L(\'2N\',h[\'1H\']);1k;7e:4.1L(z,h[\'1H\'])}}},4K:6(2e,35,47){f 1g=4.34[0];f 2z=1g.7d();7(2z.55(\'12 table tr td\')){4.7f(2z,2e,35,47)}V{4.7g(2z,35,47)}},7f:6(2z,2e,35,47){f 23=2z.54();Z(f i=0;i<23.T;++i){7(23[i].5H.2e!=2e.4j()){E.4K(23[i],35.1T(4))}V{47.1T(4,23[i].5H)}}f 3t=G E(\'12\');3t.1b(2z);f 24=3t.15;4.1L(\'2N\',24)},7g:6(2z,35){f 1V=35.1T(4);1V.1b(2z);f 3t=G E(\'12\');3t.1b(1V);f 24=3t.15;4.1L(\'2N\',24)},4J:{2N:6(z,p,h,4M){f 1H=(P.2W(4M))?4M.1T(4,z,p,h):4M;4.1L(\'2N\',1H)},1T:6(z,p,h,1h){1h.1T(4,z,p,h)}}});7(!j)f j={};j.3R=2H.2I({1D:0.2,1u:H,3u:[],2K:{},36:[],37:[],2j:[],h:{2A:H,M:W,X:H},3H:6(h){7(!j.1D)1m(\'j.3R 3d j\');4.36=[];4.37=[];4.2j=[];4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.3N;4.1P=4.h[\'X\'];4.2B();4.1W()},2B:6(){4.5=G E(\'12\',{id:4.h[\'id\']||4.7h()}).1x(\'t-p\');f 2A=B.1F;7(4.h[\'2A\']){2A=$(4.h[\'2A\']);4.5.J(\'R:static;Q:0;1c:0\')}2A.1b(4.5);7(4.1P[\'5Q\']){Z(f p in 4.1P[\'5Q\']){f 5=G E(\'12\').1x(\'t-\'+p+\'bar\');f 2K=4.1P[\'5Q\'][p];Z(f F in 2K){5.1b(4.5R(F,2K[F]))}4.5.1b(5)}}4.5S=G E(\'12\',{1y:\'clear:both;S:0;3P:3f\'});4.5.1b(4.5S)},1W:6(){4.5T=6(e){e.1S()}.l(4);4.3h=6(e){4.5U(v.5(e))}.l(4);4.5V=6(e){7(e.4F==27)4.5U()}.l(4);v.D(4.5,\'2M\',4.5T);f 1X=[B];7(4.h[\'M\'].B!=B)1X.1B(4.h[\'M\'].B);1X.17(6(1f){v.D(1f,\'2t\',4.3h);v.D(1f,\'4E\',4.5V)}.l(4))},3S:6(){v.2u(4.5,\'2M\',4.5T);f 1X=[B];7(4.h[\'M\'].B!=B)1X.1B(4.h[\'M\'].B);1X.17(6(1f){v.2u(1f,\'2t\',4.3h);v.D(1f,\'4E\',4.5V)}.l(4))},6G:6(){4.3S();4.1W()},7h:6(){7(4.id)k 4.id;f id=H;f 5=\'\';while(5!==H){id=\'midas_toolbar\'+2r(7i.7j()*10000);5=$(id)}4.id=id;k id},5R:6(z,1q){f 5;7(P.isArray(1q)){f 7k=1q.4z(1q[0]).4z(1q[1]);5=G E(\'12\',{26:1q[1]?1q[1]:1q[0],\'1s\':\'t-F\'});5.1e(\'<em>\'+1q[0]+\'</em>\');5.1x(\'t-F-\'+z.22(\'_\',\'-\'));f 3v=L;7k.17(6(48){f 3w=48[0];f 1i=48[1];4q(3w){1G\'38\':4.3u.1B({5:5,1h:1i||z});1k;1G\'toggle\':5.D(\'25\',6(){5.7l(\'4t\')});1k;1G\'2g\':5.D(\'25\',6(){j.1l(\'2g\',{2g:1i||z,p:4})}.l(4));1k;1G\'28\':7(!1i)1m(\'4O "\'+z+\'" is 4Q 1C\');5.1x(\'t-28-F\');4.36.1B(G j.7m(5,z,4,{18:P.2W(1i)?1i.3T(4,[z]):1i}));3v=N;1k;1G\'1o\':7(!1i)1m(\'4O "\'+z+\'" is 4Q 1C\');5.1x(\'t-1o-F\');5.1M(\'em\').1e(1q[0]);4.37.1B(G j.7n(5,z,4,{18:P.2W(1i)?1i.3T(4,[z]):1i}));3v=N;1k;1G\'29\':7(!1i)1m(\'4O "\'+z+\'" is 4Q 1C\');5.1x(\'t-29-F\');4.2j.1B(G j.7o(5,z,4,{18:P.2W(1i)?1i.3T(4,[z]):1i,26:48[2]||1q[0]}));3v=N;1k;1G\'1d\':7(!1i)1m(\'4O "\'+z+\'" is 4Q 1C\');5.D(\'25\',6(){f 18=P.2W(1i)?1i.3T(4,[z]):1i;j.1d(18,{26:48[2]||1q[0]})}.l(4));3v=N;1k;7e:1m(\'5O F 3w "\'+3w+\'" Z 3p "\'+z+\'" F\');}}.l(4));5.D(\'2M\',6(){5.1x(\'3x\')});5.D(\'2t\',6(){5.1Y(\'3x\')});7(!3v)5.D(\'25\',6(K){K.1S();7(5.7p(\'2k\')||5.up(\'.2k\'))k;j.1l(\'F\',{z:z,K:K,p:4})}.l(4));4.2K[z]={5:5,spec:1q}}V 7(P.isString(1q)){5=4.7q(1q)}V{5=4.7r(z,1q)}k 5},7r:6(z,3y){f 5=G E(\'12\',{\'1s\':\'t-3y t-3y-\'+z});Z(f F in 3y){5.1b(4.5R(F,3y[F]))}k 5},7q:6(F){k G E(\'2y\').1x(\'t-\'+(F==\'*\'?\'flex-5W\':F==\'-\'?\'7s-5W\':\'5W\'))},3g:6(C){4.1u=C},5n:6(1n,1u){f 19=4.h[\'M\'].2v();7(!19.5I)k;f 1g=19.5J(0);f q=1g.43;q=q.2q==3?E.up(q):q;7(!q)k;7(q!=1u.5&&!E.2f(q,1u.5))k;f T=4.3u.T;Z(f i=0;i<T;++i){f 38=4.3u[i];f 1h;7(3Q(38[\'1h\'])==\'6\'){1h=38[\'1h\']}V{1h=j.3R.3u[38[\'1h\']]}7(3Q(1h)==\'6\'){7(1h.1T(4,q,1u)){38[\'5\'].1x(\'3x\')}V{38[\'5\'].1Y(\'3x\')}}}},6H:6(){4.5.1o(\'.3x\').17(6(F){F.1Y(\'3x\')})},5r:6(){k 4.5S.49().Q},6J:6(){Z(f i=0;i<1C.T;++i){f 5;5=4.5.1M(\'.t-\'+1C[i]);7(!5)5=4.5.1M(\'.t-3y-\'+1C[i]);7(!5)5=4.5.1M(\'.t-F-\'+1C[i]);7(5)5.7l(\'2k\')}},5U:6(5){4.36.17(6(28){7(5!=28.5||!5.2f(28.5)){7(5!=28.F)28.1a()}}.l(4));4.37.17(6(1o){7(5!=1o.5||!5.2f(1o.5)){7(5!=1o.F)1o.1a()}}.l(4))},7t:6(){4.2j.17(6(29){29.1a()}.l(4))},1w:6(){4.3S();4.36.17(6(28){7(28.1w)28.1w()});4.37.17(6(1o){7(1o.1w)1o.1w()});4.2j.17(6(29){7(29.1w)29.1w()});4.36=[];4.37=[];4.2j=[];7(4.5)4.5.2w();7(4.5)4.5=H}});P.1r(j.3R,{3u:{5P:6(q){4.2K[\'5P\'][\'5\'].J(\'46-3s:\'+q.1z(\'46-3s\'))},7u:6(q){4.2K[\'7u\'][\'5\'].J(\'46-3s:\'+q.1z(\'3s\'))},7v:6(q){f 4R=E.1z(q,\'4L-4R\');k 4R==\'7v\'||4R>400},7w:6(q){k E.1z(q,\'4L-1y\')==\'7w\'||q.2c==\'I\'||q.up(\'i\')||q.2c==\'EM\'||q.up(\'em\')},strikethrough:6(q){k E.1z(q,\'3z-7x\')==\'7s-through\'||q.2c==\'STRIKE\'||q.up(\'strike\')},7y:6(q){k E.1z(q,\'3z-7x\')==\'7y\'||q.2c==\'U\'||q.up(\'u\')},subscript:6(q){k q.2c==\'SUB\'||q.up(\'sub\')},superscript:6(q){k q.2c==\'SUP\'||q.up(\'sup\')},justifyleft:6(q){k(E.1z(q,\'3z-4S\')||\'\').1j(\'1c\')>-1},justifycenter:6(q){k(E.1z(q,\'3z-4S\')||\'\').1j(\'center\')>-1},justifyright:6(q){k(E.1z(q,\'3z-4S\')||\'\').1j(\'right\')>-1},justifyfull:6(q){k(E.1z(q,\'3z-4S\')||\'\').1j(\'justify\')>-1},insertorderedlist:6(q,C){7(q.2c==\'OL\')k N;f ol=E.up(q,\'ol\');k(ol)?ol.2f(C.5):L},insertunorderedlist:6(q,C){7(q.2c==\'ul\')k N;f ul=E.up(q,\'ul\');k(ul)?ul.2f(C.5):L}}});7(!j)f j={};j.5g=2H.2I({1D:0.2,h:{2A:H,X:H,M:W,2j:[\'5X\']},3H:6(h){7(!j.1D)1m(\'j.5g 3d j\');4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.3N;4.1P=4.h[\'X\'];4.2B();4.1W()},2B:6(){4.5=G E(\'12\',{\'1s\':\'t-1t\'});4.h.2j.17(6(1v){4.5.15+=4[\'3U\'+1v].1T(4)}.l(4));($(4.h[\'2A\'])||B.1F).1b(4.5)},1W:6(){v.D(4.5,\'2M\',6(e){e.1S()}.l(4))},1e:6(C,K){5F(6(){4.5.15=\'\';4.h.2j.17(6(1v){4[\'3U\'+1v].1T(4,C,K)}.l(4))}.l(4),1)},2Y:6(){k($(4.h[\'2A\'])||4.5).2Y()},1w:6(){4.5.2w()},insertPath:6(C,K){7(!K)k\'<2y><4U>5X:</4U></2y>\';f 19=4.h[\'M\'].2v();7(!19.5I)k;f 1g=19.5J(0);f 1Z=\'\';f q=1g.43;q=q.2q==3?E.up(q):q;4.1Z=[];7(q!=C.5&&E.2f(q,C.5)){4.1Z=E.ancestors(q);f T=4.1Z.T-1;Z(f i=0;i<=T;++i){7(4.1Z[i]==C.5)1k;1Z=\'<a>\'+4.1Z[i].2e.4k()+\'</a> &raquo; \'+1Z}1Z+=\'<a>\'+q.2e.4k()+\'</a>\';4.1Z[-1]=q}f 5=G E(\'2y\').1e(\'<4U>5X:</4U> \'+1Z);5.D(\'25\',6(K){K.1S();f 4V=E.nextSiblings(v.5(K)).T;f 19=4.h[\'M\'].2v();f 1g=4.h[\'M\'].B.5L();1g.74(4.1Z[4V-1]);19.4s();19.4H(1g)}.bindAsEventListener(4));4.5.1b(5)}});7(!j)f j={};j.4b=2H.2I({1D:0.2,F:H,5:H,39:H,7z:7i.7j(),h:{18:H,X:H},3H:6(F,O,p,h){7(!j.1D)1m(\'j.4b 3d j\');4.F=F;4.O=O;4.p=p;4.h=P.1r(P.2J(4.h),h);4.h[\'X\']=4.h[\'X\']||j.3N;4.1P=4.h[\'X\'];4.2B();4.1W()},2B:6(){4.5=G E(\'12\',{\'1s\':\'t-5Y\',1y:\'1p:2l\'});4.p.5.1b(4.5)},1W:6(){v.D(W,\'1R\',6(){4.R(4.1A)}.l(4));v.D(4.5,\'2M\',6(e){e.1S()});v.D(4.F,\'25\',6(){7(!4.5||4.2k())k;7(4.1A)4.1a();V 4.2O()}.l(4))},2O:6(){7(!4.3A){4.R();4.4W();k}7(4.p.1u){4.4c=4.p.1u.O;4.5.1x(4.4c)}4.5.J({Y:\'1I\',S:\'1I\'});4.R(4.1A);4.4W()},4W:6(){4.1A=N;G 2P.7A(4.5,{queue:{scope:\'5Y:\'+4.7z,limit:2},5Z:2P.61.62,63:.20,to:.95,64:6(){f 1h=(4.1R||4.2O).l(4);7(!4.3A)4.1Q(1h)}.l(4)})},1a:6(){7(4.4c){4.5.1Y(4.4c);4.4c=H}4.5.1a();4.1A=L},R:6(2Q){},2k:6(){k(4.F.7p(\'2k\')||4.F.up(\'.2k\'))},1Q:6(1h){j.4C(4.h.18,{1v:\'65\',3l:6(2C){4.3A=N;4.5.1Y(\'3a\');4.5.15=2C.33;2C.33.66();4.39=W[\'7B\'+4.O];7(4.39)4.39.1T(4);7(1h)1h()}.l(4),67:6(){4.1a();68(\'j 69 6a to 1Q "\'+4.h.18+\'" Z 3p "\'+4.O+\'" 5Y\')}.l(4)})},execute:6(z,h,K){j.1l(\'F\',{z:4.O,K:K,p:4.p,h:h})},1w:6(){7(4.5)4.5.2w();4.5=H}});7(!j)f j={};j.7m=2H.2I(j.4b,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-28 3a\',1y:\'1p:2l;\'});4.p.5.1b(4.5);7(4.p.1P.6b[\'36\'])4.1Q()},R:6(2Q){7(!4.5)k;4.5.J({Q:0,1c:0,1p:\'2m\',2a:\'3f\'});f R=4.F.49();f 21=4.5.3n();7(R.1c+21.Y>B.3m.2i()){R.1c=R.1c-21.Y+4.F.2i()}4.5.J({Q:(R.Q+4.F.2Y())+\'px\',1c:R.1c+\'px\',1p:2Q?\'2m\':\'2l\',2a:\'1A\'})}});7(!j)f j={};j.7n=2H.2I(j.4b,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-1o 3a\',1y:\'1p:2l;\'});4.p.5.1b(4.5);7(4.p.1P.6b[\'37\'])4.1Q()},R:6(2Q){7(!4.5)k;4.5.J({Q:0,1c:0,1p:\'2m\',2a:\'3f\'});f R=4.F.49();f 21=4.5.3n();f 2R=B.3m.3n();f Q=(R.Q+(4.F.2Y()/2)-(21.S/2));7(Q<R.Q-7C)Q=R.Q-7C;7(Q<20)Q=20;f S=\'1I\';7(Q+21.S>=2R.S-20){S=(2R.S-Q-20)}7(R.1c+21.Y>2R.Y){R.1c=R.1c-21.Y+4.F.2i()}4.5.J({Q:Q+\'px\',1c:R.1c+\'px\',S:S+\'px\',1p:2Q?\'2m\':\'2l\',2a:\'1A\'})}});7(!j)f j={};j.7o=2H.2I(j.4b,{1D:0.2,2B:6(){4.5=G E(\'12\',{\'1s\':\'t-29 3a\',1y:\'1p:2l;\'});4.5.1e(\'<h3 1s="26">\'+4.h[\'26\']+\'</h3><12 1s="t-29-4d"></12>\');4.p.5.1b(4.5);4.2D=4.5.1M(\'h3.26\');4.1N=4.5.1M(\'12.t-29-4d\');7(4.p.1P.6b[\'2j\']){4.1Q(6(){4.1R();4.1a()}.l(4))}},1W:6(){v.D(W,\'1R\',6(){4.R(4.1A)}.l(4));v.D(4.5,\'2M\',6(e){e.1S()});v.D(4.F,\'25\',6(){7(!4.5||4.2k())k;7(4.1A)4.1a();V{4.p.7t();4.F.1x(\'4t\');4.2O()}}.l(4))},R:6(2Q){7(!4.5)k;4.5.J({1p:\'2m\',2a:\'3f\',Y:\'1I\'});f Q=4.p.5r();f S=B.3m.2Y()-Q-40;f R=4.5.49();f 3b=4.5.2i();4.3B=B.3m.2i();4.5.J({Q:(Q+8)+\'px\',S:S+\'px\',Y:\'1I\',1p:2Q?\'2m\':\'2l\',2a:\'1A\'});7(!4.7D){4.5.J({1c:(4.3B-3b-20)+\'px\'})}7(4.6d||3b+R.1c>4.3B){4.5.J({1c:(4.3B-3b-20)+\'px\'})}7(!4.7E){4.7E=G Draggable(4.5,{4J:4.2D,constraint:\'horizontal\',zindex:10003,snap:6(x,y){f 3b=4.5.2i();x=(x<30)?10:x;7(x>4.3B-(3b+40)){x=4.3B-(3b+20);4.6d=N;4.7D=N}V{4.6d=L}k[x,y]}.l(4)})}f 7F=2r(4.1N.1z(\'4X-Q\'))+2r(4.1N.1z(\'4X-7G\'));f 4e=2r(4.2D.1z(\'4X-Q\'))+2r(4.2D.1z(\'4X-7G\'))+2r(4.2D.1z(\'S\'));7(!2Q)4.5.1a();4.1N.J({S:(S-7F-4e)+\'px\'})},1R:6(){f 4Y=4.1N.2i();4.1N.J({Y:\'1I\'});f 4Z=4.1N.2i();4.1N.J({Y:4Y+\'px\'});f R=4.5.49();7(4Z<=4Y){4.1N.J({2a:\'1A\',Y:\'1I\'});k}G 2P.Parallel([G 2P.7H(4.1N,{1y:{Y:4Z+\'px\'}}),G 2P.7H(4.5,{1y:{1c:R.1c-(4Z-4Y)+\'px\'}})],{5Z:2P.61.62,63:.2,64:6(){4.1N.J({2a:\'1A\',Y:\'1I\'})}.l(4)})},1Q:6(1h){j.4C(4.h.18,{1v:\'65\',3l:6(2C){4.3A=N;4.5.1Y(\'3a\');4.1N.J({2a:\'3f\',Y:4.1N.2i()+\'px\'});4.1N.15=2C.33;2C.33.66();4.39=W[\'7B\'+4.O];7(4.39)4.39.1T(4);7(1h)1h()}.l(4),67:6(){4.1a();68(\'j 69 6a to 1Q "\'+4.h.18+\'" Z 3p "\'+4.O+\'" 29\')}.l(4)})},4W:6(){4.1A=N;G 2P.7A(4.5,{5Z:2P.61.62,63:.2,from:0,to:.85,64:6(){7(!4.3A)4.1Q(4.1R.l(4))}.l(4)})},1a:6($7I){4.F.1Y(\'4t\');$7I()}});7(!j)f j={};j.1d=6(18,h){f w=W.53()?W:Q;w.j.1d.2O(18,h);k w.j.1d};P.1r(j.1d,{1D:0.2,2n:L,h:{26:\'\'},7J:6(h){4.1O=P.2J(4.h);P.1r(4.1O,h||{});7(4.2n)k L;4.7K();4.7L();4.2n=N},7K:6(){4.2S=G E(\'12\',{id:\'midas_modal_overlay\',1y:\'1p:2l\'});4.5=G E(\'12\',{id:\'midas_modal\',1y:\'1p:2l\'});4.5.1e(\'<7M 1s="t-1d-7N"><h1><2y></2y><a>&times;</a></h1><12 1s="t-1d-2L-1V"><12 1s="t-1d-2L"></12></12></7M>\');4.2o=4.5.1M(\'.t-1d-7N\');4.6e=4.5.1M(\'.t-1d-2L-1V\');4.2E=4.5.1M(\'.t-1d-2L\');B.1F.1b(4.2S);B.1F.1b(4.5)},7L:6(){v.D(W,\'1R\',4.R.l(4));v.D(4.5.1M(\'h1 a\'),\'25\',4.1a.l(4));v.D(4.2S,\'2M\',6(K){K.1S()});v.D(4.2S,\'2t\',6(K){K.1S()});v.D(4.5,\'2t\',6(K){K.1S()});v.D(4.2o,\'submit\',6(e){7(W[\'7O\'])W[\'7O\'](e)});f 6f=[B];f 11=$(\'t-11-W\');7(11)6f.1B(11.M.B);6f.17(6(1f){v.D(1f,\'4E\',6(e){7(4.3q&&e.4F==27)4.1a()}.l(4))}.l(4))},2O:6(18,h){4.7J(h);4.2E.15=\'\';4.1Q(18);4.7P();7(!4.3q){4.3q=N;4.2S.2O();4.5.J({1p:\'2m\',2a:\'1A\',R:H});4.2o.J({1p:\'2m\',2a:\'1A\',R:H});4.1l(\'onShow\')}V{4.1e()}},1e:6(){7(!4.2n)1m("j.6g 6h 1e 6i it\'s 6k 2n");4.1l(\'onUpdate\')},1a:6(h){7(!4.2n)1m("j.6g 6h 1a 6i it\'s 6k 2n");7(h){4.1O=P.2J(4.h);P.1r(4.1O,h)}4.1l(\'beforeHide\');4.3q=L;4.5.1a();4.2S.1a();7(4.1U){4.1U.2w()}},7P:6(){7(!4.2n)1m("j.6g 6h 1e 3p 26 6i it\'s 6k 2n");f 2D=4.5.1M(\'h1 2y\');7(4.1O[\'26\']){2D.2O();2D.1e(4.1O[\'26\']||\'&2U;\')}V{2D.1a()}},1Q:6(18,h){7(h){4.1O=P.2J(4.h);P.1r(4.1O,h)}4.5.1x(\'3a\');G 5p.5q(18,{1v:4.1O[\'1v\']||\'65\',3k:4.1O[\'3k\']||{},3l:6(2C){4.3A=N;4.5.1Y(\'3a\');4.2E.15=2C.33;2C.33.66();4.7Q();4.R();4.1l(\'79\')}.l(4),67:6(){4.1a();68(\'j 69 6a to 1Q "\'+18+\'" Z 3p 1d\')}.l(4)})},R:6(){7(!4.5)k;4.2o.J(\'Y:1I\');4.2E.J(\'S:1I\');4.6e.J(\'S:1I\');4.2o.J({1p:\'2m\'});f 21=4.2o.3n();4.5.J({Y:21.Y+\'px\'});4.2o.J({Y:21.Y+\'px\'});4.2E.1a();4.2E.slideDown();f 2R=B.3m.3n();7(21.S>=2R.S-20||4.1O[\'fullHeight\']){f 4e=4.5.1M(\'h1\').2Y();f 6l=4.1U?4.1U.offsetHeight:0;4.6e.J({S:(2R.S-4e-6l-20)+\'px\'});4.2E.J({S:(2R.S-4e-6l-60)+\'px\'})}},7Q:6(){4.1U=4.2E.1M(\'.t-1d-1U\');7(4.1U){4.2o.1b(4.1U)}4.2F=0;4.3C=4.2o.1o(\'.t-1d-4d\');7(4.3C.T>1){7(!4.1U){4.1U=G E(\'12\',{\'1s\':\'t-1d-1U\'});4.2o.1b(4.1U)}4.3D=G E(\'7R\',{3w:\'F\',1H:\'Previous\',2k:\'2k\'});4.4g=G E(\'7R\',{3w:\'F\',1H:\'Next\'});4.3D.D(\'25\',4.7S.l(4));4.4g.D(\'25\',4.7T.l(4));4.1U.3U({Q:4.3D});4.3D.3U({after:4.4g});4.50(0)}},7S:6(){4.50(4.2F-1)},7T:6(){4.50(4.2F+1)},50:6(4V){4.2F=4V;7(4.2F<=0){4.2F=0;4.3D.7U()}V{4.3D.7V()}7(4.2F>=4.3C.T-1){4.2F=(4.3C.T-1);4.4g.7U()}V{4.4g.7V()}4.3C.17(6(4d){4d.J(\'1p:2l\')});4.3C[4.2F].J(\'1p:2m\')},1l:6(4h){f r=N;7(4.1O[4h]){f 6m=4.1O[4h].1T(4);7(!P.isUndefined(6m))r=6m;4.1O[4h]=H}j.1l(\'1d:\'+4h);k r},1w:6(){4.2S.2w();4.5.2w();4.2S=H;4.5=H;4.2E=H;4.2n=L}});',[],492,'||||this|element|function|if||||||||var||options||Midas|return|bind||||toolbar|node|||midas||Event||||action||document|region|observe|Element|button|new|null||setStyle|event|false|contentWindow|true|name|Object|top|position|height|length||else|window|configuration|width|for||iframe|div|||innerHTML||each|url|selection|hide|appendChild|left|modal|update|doc|range|callback|mixed|indexOf|break|fire|throw|regions|select|display|buttonSpec|extend|class|statusbar|activeRegion|method|destroy|addClassName|style|getStyle|visible|push|arguments|version||body|case|value|auto|agent||execCommand|down|panelElement|_options|config|load|resize|stop|call|controls|container|setupObservers|observedDocuments|removeClassName|path||dimensions|replace|textnodes|html|click|title||palette|panel|visibility|that|nodeName|childNodes|tagName|descendantOf|mode|host|getWidth|panels|disabled|none|block|initialized|frameElement|thisItem|nodeType|parseInt|memo|mouseup|stopObserving|getSelection|remove|previewing|span|fragment|appendTo|build|transport|titleElement|contentElement|paneIndex|thatItem|Class|create|clone|buttons|content|mousedown|insertHTML|show|Effect|keepVisible|viewportDimensions|overlayElement|prototype|nbsp|location|isFunction|handled|getHeight|||links|uri|responseText|selections|newElementCallback|palettes|selects|context|setupFunction|loading|elementWidth|modes|requires||hidden|setActiveRegion|__mouseup|handleAction|changed|parameters|onSuccess|viewport|getDimensions|instances|the|showing|behavior|color|wrapper|contexts|observed|type|active|group|text|loaded|viewportWidth|panes|prevButton|toHex|href|useIframe|initialize|toolbarOptions|regionOptions|statusbarOptions|contentEditable|trace|Config|iframeContainer|overflow|typeof|Toolbar|removeObservers|apply|insert|console|view|args|try|catch||sibling|setContents|commonAncestorContainer|argument|behaviors|background|updateElementCallback|buttonType|cumulativeOffset||Dialog|contextClass|pane|titleHeight||nextButton|eventName|result|toUpperCase|toLowerCase|regExEscape|src|onBeforeUnload|regionElements|Region|switch|preview|removeAllRanges|pressed|debug|serialize|offsetTop|agentId|instance|without|split|target|loadView|getContents|keydown|keyCode|pastedRegion|addRange||handle|wrap|font|callbackOrValue||Button||missing|weight|align||strong|index|appear|padding|oldWidth|newWidth|showPane|item|String|isTop|getTextNodes|containsTags|tags|diff|callee|sRE|classname|agentIsCapable|initializeRegions|finalizeInterface|hijackLinks|onbeforeunload|Statusbar|__midasButton|__midasAction|__midasMode|handleMode|__midasRegion|__midasRegionUpdate|setActiveButtons|serialized|Ajax|Request|getBottomOffset|statusbarHeight|preloadedView|prompt|msie|opera|konqueror|getAttribute|makeEditable|Prototype|Browser|Gecko|selecting|updateSelections|setTimeout|afterPaste|parentNode|rangeCount|getRangeAt|beforeHtml|createRange|cleaned|temp|Unknown|backcolor|toolbars|makeButton|positioningElement|__mousedown|hidePopups|__keydown|separator|Path|dialog|transition||Transitions|sinoidal|duration|afterFinish|get|evalScripts|onFailure|alert|was|unable|preload||pinned|contentContainerElement|documents|Modal|cannot|before||been|controlsHeight|returnValue|innerText|DocumentFragment|continue|singleDiff|thatLength|substr||RegExp|specials|saveUrl|saveMethod|actionsToHandle|save|browser|has|features|registerInstance|initializeInterface|resetModes|reinitializeObservers|unsetActiveButtons|reset|toggleDisabled|togglePreview|unregisterInstance|silent|message|you|gecko|safari|match|http|https|hostname|undefined|inline|previousSibling|minHeight|20px|minWidth|maxWidth|styleWithCSS|indent|selectNode|undo|pastedFromWord|pasted|sanitizeHtml|afterLoad|textContent|supported|sel|cloneContents|default|wrapTextnodes|wrapFragment|generateId|Math|random|types|toggleClassName|Palette|Select|Panel|hasClassName|makeSeparator|makeButtonGroup|line|hidePanels|forecolor|bold|italic|decoration|underline|scopeId|Appear|midas_setup_|100|moved|draggable|paddingHeight|bottom|Morph|super|_initialize|_build|_setupObservers|form|frame|midas_modal_submit|updateTitle|setupControls|input|prevPane|nextPane|disable|enable'.split('|'),0,{}));
Midas.Config = {

  /* The stylesheet to load for the skin of the toolbar/editable regions.
   */
  stylesheet: '/stylesheets/midas.css',

  /* Things like palettes, select menus, and panels can be preloaded when the page loads,
   * instead of loading the first time the button is clicked.
   */
  preload: {
    'palettes': true,
    'selects': true,
    'panels': true
    },

  /* Toolbars
   *
   * Any object you put in here will create a new toolbar.
   *
   * button format: [label, description, [type, action], [type, action], etc]
   * type can be:
   *   'button' (default) calls handleCommand and passes the key of the object
   *            (eg. save, preview, undo etc.)
   *   'toggle' will toggle on or off when clicked (and otherwise behaves like a button)
   *   'modal' will open a modal window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *     note: optionally provide a second string argument for the modal dialog title
   *   'panel' will open a panel dialog, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *     note: optionally provide a second string argument for the panel title
   *   'palette' will open a palette window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *   'select' will open a select/pulldown style window, expects the action to be:
   *     a string url
   *     a function that returns a string url
   *   'context' will call a callback function, expects the action to be:
   *     a function that returns a boolean to highlight the button or not
   *     note: if a function isn't provided, the key will be passed to the
   *           contextHandler (eg. backcolor, bold, etc.), in which case a
   *           default context will be used (there are several defined in
   *           Midas.Toolbar.contexts).
   *   'mode' will toggle a given mode in the editor, expects the action to be:
   *     a string, denoting the name of the mode
   *     note: if a string isn't provided, the key will be passed to the
   *           modeHandler (eg. preview, html, etc.)
   *     note: it's assumed that when a specific "mode" is turned on, all other "modes" will be
   *           turned off (this happens automatically), thus putting the editor into a specific
   *           "state".
   *
   * If a button is an object (not an array, not a string), it's assumed that it's a button group,
   * all of it's children will be expected to be buttons or button groups.  A button group is
   * wrapped within a div for styling.  It's important to note that each of the keys, regardless of
   * if it's in a group or not needs to be unique.
   *
   * The save action is special, in that it's handled by Midas directly, all other actions are
   * handled by Midas.Region.
   *
   * Separators are any "button" that's not an array, and are expected to be a string.  You can use
   * three different separator styles: line, spacer, and flex spacer.
   * '-' = line
   * ' ' = spacer
   * '*' = flex spacer
   */
  toolbars: {
    actions: {
      save:                  ['Save', 'Save this page'],
      preview:               ['Preview', 'Preview this page', ['toggle'], ['mode']],
      sep1:                  ' ',
      undoredo:              {
        undo:                ['Undo', 'Undo your last action'],
        redo:                ['Redo', 'Redo your last action'],
        sep2:                ' '
        },
      insert:                {
        insertlink:          ['Link', 'Insert a hyperlink', ['modal', '/midas/modals/link.html']],
        insertmedia:         ['Media', 'Insert media', ['modal', '/midas/modals/media.html']],
        inserttable:         ['Table', 'Insert a table', ['modal', '/midas/modals/table.html']],
        insertobject:        ['Object', 'Insert an object (form, widget, etc)', ['modal', '/midas/modals/object.html']],
        insertcharacter:     ['Character', 'Insert special characters', ['modal', '/midas/modals/character.html']],
        sep3:                '*'
        },
      inspector:             {
        inspectorpanel:      ['Inspector', 'Open the element inspector panel', ['panel', '/midas/panels/inspector.html']],
        sep3:                '*'
        }
//      notespanel:            ['Notes', 'Open the page notes panel', ['panel', '/midas/panels/notes.html', 'Page Notes']],
//      historypanel:          ['History', 'Open the page history panel', ['panel', '/midas/panels/history.html']]
      },
    htmleditor: {
      style:                 ['Style', '', ['select', '/midas/selects/style.html']],
      formatblock:           ['Block Format', '', ['select', '/midas/selects/formatblock.html']],
      sep1:                  '-',
      backcolor:             ['Background Color', '', ['palette', '/midas/palettes/backcolor.html'], ['context']],
      forecolor:             ['Text Color', '', ['palette', '/midas/palettes/forecolor.html'], ['context']],
      sep2:                  '-',
      decoration:            {
        bold:                ['Bold', '', ['context']],
        italic:              ['Italicize', '', ['context']],
        //overline:            ['Overline', '', ['context']],
        strikethrough:       ['Strikethrough', '', ['context']],
        underline:           ['Underline', '', ['context']],
        sep:                 '-'
        },
      script:                {
        subscript:           ['Subscript', '', ['context']],
        superscript:         ['Superscript', '', ['context']],
        sep:                 '-'
        },
      justify:               {
        justifyleft:         ['Align Left', '', ['context']],
        justifycenter:       ['Center', '', ['context']],
        justifyright:        ['Align Right', '', ['context']],
        justifyfull:         ['Justify Full', '', ['context']],
        sep:                 '-'
        },
      list:                  {
        insertunorderedlist: ['Unordered List', '', ['context']],
        insertorderedlist:   ['Numbered List', '', ['context']],
        sep:                 '-'
        },
      indent:                {
        outdent:             ['Decrease Indentation', ''],
        indent:              ['Increase Indentation', ''],
        sep:                 '-'
        },
      //table:                 {
      //  insertrowbefore:     ['Insert Row', 'Insert a table row before'],
      //  insertrowafter:      ['Insert Row', 'Insert a table row after'],
      //  deleterow:           ['Delete Row', 'Delete this table row'],
      //  insertcolumnbefore:  ['Insert Column', 'Insert a table column before'],
      //  insertcolumnafter:   ['Insert Column', 'Insert a table column after'],
      //  deletecolumn:        ['Delete Column', 'Delete this table column'],
      //  sep:                 '-'
      //  },
      breaks:                {
        horizontalrule:      ['Horizontal Rule', ''],
        sep:                 '-'
        },
      removeformatting:      ['Remove Formatting', ''],
      htmleditor:            ['Edit HTML', '']
      }
    },

  /* Behaviors for htmleditor
   *
   * Behaviors are used to change the default behaviors of the editor when a given button is
   * clicked.  For example, we prefer to add HR tags using an HR wrapped within a div with a
   * classname of hr, which allows for more flexible styling.  To add your own complex
   * behaviors just prototype them onto Midas.Region.handle.
   *
   * An example behavior would be to add a new button, called buynowbutton, and providing a
   * behavior something like the following:
   *
   * buynowbutton: {insertElement: function() {
   *   return new Element('a', {href: '/buy-now', class: 'buy-now'}).update('Buy Now!');
   * }}
   *
   * It's important to note that the this keyword inside the callback functions is an instance of
   * Midas.Region.
   */
  behaviors: {
    horizontalrule:      {insertHTML: function() {
                           return '<div class="hr"><hr/></div>';
                         }},
    htmleditor:          {call: function() {
                           Midas.modal('/midas/modals/htmleditor.html', {
                             title: 'HTML Editor',
                             fullHeight: true,
                             afterLoad: function() {
                               $('midas_html_editor_content').value = this.getContents();
                             }.bind(this)
                           });
                         }}
    }
};


